!function(e){function t(t){for(var n,o,i=t[0],s=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);p.length;)p.shift()();return l.push.apply(l,c||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={0:0},l=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;l.push([5771,1]),r()}({116:function(e,t,r){"use strict";var n=r(12),a="LOAD_ALERT",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED"),i="".concat(a,"_REJECTED");function s(e){return{type:a,payload:Object(n.get)("alerts/".concat(e))}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return s})},117:function(e,t,r){"use strict";var n=r(12),a="SIGNIN",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED"),i="".concat(a,"_REJECTED");function s(e){return{type:a,payload:Object(n.post)("authentication/sign-in",e)}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return s})},167:function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o});var n=r(12),a="LOAD_IDENTITY",l="".concat(a,"_FULFILLED");"".concat(a,"_REJECTED");function o(){return{type:a,payload:Object(n.get)("current-user/identity")}}},26:function(e,t,r){"use strict";var n="CLOSE_PA_POWER";function a(){return{type:n}}var l="INITIALIZE_PA_POWER";function o(e){return{type:l,payload:e}}var i="OPEN_ADD_PA_POWER";function s(){return{type:i}}var c="OPEN_ADD_PA_POWER_2";function u(e){return{type:c,payload:e}}var d="OPEN_ADD_PA_POWER_3";function p(e){return{type:d,payload:e}}var m="OPEN_EDIT_PA_POWER";function h(){return{type:m}}var f="OPEN_EDIT_PA_POWER_2";function b(){return{type:f}}var g="OPEN_EDIT_PA_POWER_3";function E(){return{type:g}}r.d(t,"a",function(){return n}),r.d(t,"i",function(){return a}),r.d(t,"b",function(){return l}),r.d(t,"j",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"k",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"l",function(){return u}),r.d(t,"e",function(){return d}),r.d(t,"m",function(){return p}),r.d(t,"f",function(){return m}),r.d(t,"n",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"o",function(){return b}),r.d(t,"h",function(){return g}),r.d(t,"p",function(){return E})},30:function(e,t,r){"use strict";var n="CLOSE_ADD_PRODUCT";function a(){return{type:n}}var l=r(12),o="OPEN_ADD_PRODUCT",i="".concat(o,"_PENDING"),s="".concat(o,"_FULFILLED"),c="".concat(o,"_REJECTED"),u="OPEN_ADD_PRODUCT_2",d="OPEN_ADD_PRODUCT_2_NEW_RETAILER",p="OPEN_ADD_PRODUCT_3",m="OPEN_ADD_PRODUCT_4";function h(){return{type:o,payload:Object(l.get)("products/create")}}function f(e){return{type:u,payload:e}}function b(){return{type:d}}function g(e){return{type:p,payload:e}}function E(e){return{type:m,payload:e}}var y=r(61),v="SAVE_PRODUCT",C="".concat(v,"_PENDING"),k="".concat(v,"_FULFILLED"),w="".concat(v,"_REJECTED");function P(e,t){return function(r){var n=Object(l.post)("products/create",e);r({type:v,payload:n}),n.then(function(){r(Object(y.g)()),t&&"function"==typeof t&&t()})}}r.d(t,"a",function(){return n}),r.d(t,"l",function(){return a}),r.d(t,"g",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"h",function(){return c}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return m}),r.d(t,"m",function(){return h}),r.d(t,"n",function(){return f}),r.d(t,"o",function(){return b}),r.d(t,"p",function(){return g}),r.d(t,"q",function(){return E}),r.d(t,"j",function(){return C}),r.d(t,"i",function(){return k}),r.d(t,"k",function(){return w}),r.d(t,"r",function(){return P})},43:function(e,t,r){"use strict";var n="CLOSE_ADD_ALERT";function a(){return{type:n}}var l="OPEN_ADD_ALERT";function o(){return{type:l}}var i=r(12),s="SAVE_ALERT",c="".concat(s,"_PENDING"),u="".concat(s,"_FULFILLED"),d="".concat(s,"_REJECTED"),p="POPULATE_OFFERS",m=("".concat(p,"_PENDING"),"".concat(p,"_FULFILLED")),h="".concat(p,"_REJECTED");function f(e){return function(t){var r=Object(i.post)("alerts",e);t({type:s,payload:r}),r.then(function(e){var r=e.data,n=r.indexWasCreatedOrUpdated,a=r.alertId;n&&t({type:p,payload:Object(i.post)("offers/populate/".concat(a))})})}}r.d(t,"a",function(){return n}),r.d(t,"h",function(){return a}),r.d(t,"b",function(){return l}),r.d(t,"i",function(){return o}),r.d(t,"f",function(){return c}),r.d(t,"e",function(){return u}),r.d(t,"g",function(){return d}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return h}),r.d(t,"j",function(){return f})},48:function(e,t,r){"use strict";var n="CLOSE_EDIT_ALERT";function a(){return{type:n}}var l=r(12),o=r(26),i="OPEN_EDIT_ALERT",s="".concat(i,"_PENDING"),c="".concat(i,"_FULFILLED"),u="".concat(i,"_REJECTED");function d(e){return function(t){var r=Object(l.get)("alerts/".concat(e,"/edit"));t({type:i,payload:r}),r.then(function(e){var r=e.data.utilityState;switch(t(Object(o.j)(e.data)),r){case 1:t(Object(o.n)())}})}}var p="UPDATE_ALERT",m="".concat(p,"_PENDING"),h="".concat(p,"_FULFILLED"),f="".concat(p,"_REJECTED");function b(e){return{type:p,payload:Object(l.put)("alert/".concat(e.id),e)}}r.d(t,"a",function(){return n}),r.d(t,"h",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"i",function(){return d}),r.d(t,"f",function(){return m}),r.d(t,"e",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"j",function(){return b})},49:function(e,t,r){"use strict";var n=r(12),a="DELETE_ALERT",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED"),i="".concat(a,"_REJECTED");function s(e){return{type:a,payload:Object(n.httpDelete)("alerts/".concat(e))}}var c="LOAD_ALERTS",u="".concat(c,"_PENDING"),d="".concat(c,"_FULFILLED"),p="".concat(c,"_REJECTED");function m(){return{type:c,payload:Object(n.get)("alerts/list")}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"g",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"h",function(){return m})},50:function(e,t,r){"use strict";var n=r(12),a="CHECK_MANUAL_DATE",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED");"".concat(a,"_REJECTED");function i(e){return{type:a,payload:Object(n.get)("prices/manual/".concat(e.trackedProductRetailerId,"/check?date=").concat(e.priceDate,"T00:00:00.000Z"))}}var s="CLOSE_ADD_MANUAL";function c(){return{type:s}}var u="OPEN_ADD_MANUAL";function d(e,t){return{type:u,payload:{trackedProductId:e,trackedProductRetailerId:t}}}var p="SAVE_MANUAL",m="".concat(p,"_PENDING"),h="".concat(p,"_FULFILLED"),f="".concat(p,"_REJECTED");function b(e,t,r){return function(a){var l=Object(n.post)("prices/manual/".concat(e),babelHelpers.objectSpread({trackedProductRetailerId:e},t));a({type:p,payload:l}),l.then(function(){r&&"function"==typeof r&&r()})}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"h",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"i",function(){return c}),r.d(t,"d",function(){return u}),r.d(t,"j",function(){return d}),r.d(t,"f",function(){return m}),r.d(t,"e",function(){return h}),r.d(t,"g",function(){return f}),r.d(t,"k",function(){return b})},514:function(e,t,r){"use strict";(function(e){var n=r(0),a=r.n(n),l=r(13),o=r(99),i=r(524),s=r(528);t.a=Object(i.hot)(e)(function(e){var t=e.store,r=e.history;return a.a.createElement(l.a,{store:t},a.a.createElement(o.a,{history:r},a.a.createElement(s.a,null)))})}).call(this,r(118)(e))},528:function(e,t,r){"use strict";r(5784),r(5786),r(5789),r(5790),r(5791),r(5792),r(5793),r(5794),r(5795),r(5796),r(5797),r(187),r(5799),r(5800),r(5801),r(5802),r(5803),r(5804),r(5805),r(5806),r(5807),r(5808),r(5810),r(5811),r(5813),r(5814),r(5815),r(5816),r(5817),r(5818),r(5819),r(5820),r(5821),r(5822),r(5823),r(5824),r(5825),r(5827),r(5828),r(5829),r(5830),r(5831),r(5832),r(5833),r(5834),r(5835),r(5836),r(5837),r(5838),r(5839),r(5840),r(5841),r(5842),r(5843),r(5844),r(5846),r(5848),r(5849),r(5850),r(5851),r(5852),r(5853),r(5854),r(5855),r(5856),r(5857),r(5858),r(5859),r(5860),r(5861),r(5862),r(5863),r(5864),r(5865),r(5866),r(5867),r(5868),r(5869),r(5870),r(5871),r(5874),r(5875),r(5876),r(5877),r(5878),r(5879),r(5880),r(5881),r(5882),r(5883),r(5884),r(5885),r(5886),r(5887),r(5888),r(271),r(5889),r(5891),r(5892),r(5893),r(5894),r(5895),r(5896),r(5898),r(5899),r(5900),r(5901),r(5902),r(5903),r(5904),r(5905),r(5906),r(5907),r(5908),r(5909),r(5910),r(5911),r(5912),r(5913),r(5914),r(5915),r(5916),r(5917),r(5918),r(5919),r(5920),r(5921),r(5922),r(5923),r(5924),r(5925),r(5926),r(5927),r(5928),r(5929),r(5930),r(5931),r(5932),r(5933),r(5934),r(5935),r(5936),r(5937),r(5938),r(5939);var n=r(0),a=r.n(n),l=r(6245),o=r(9),i=r.n(o),s=(r(3),r(13)),c=r(6246),u=r(6242),d=function(e){return e.features.authentication.currentUser},p=r(8),m=(Object(p.a)(d,function(e){return e.name}),Object(p.a)(d,function(e){return e.authenticated})),h=function(e){function t(e,r){var n;return babelHelpers.classCallCheck(this,t),n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e,r)),i()(babelHelpers.assertThisInitialized(n)),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"routeRenderer",value:function(e){var t=this.props,r=t.component,n=t.render;return t.isAuthenticated?r?a.a.createElement(r,e):n?n(e):a.a.createElement(c.a,{to:{pathname:"/not-authorized"}}):a.a.createElement(c.a,{to:{pathname:"/load-identity",state:{from:e.location}}})}},{key:"render",value:function(){var e=this.props,t=e.path,r=e.exact,n=e.strict,l=e.location;return a.a.createElement(u.a,{path:t,exact:r,strict:n,location:l,render:this.routeRenderer})}}]),t}(n.Component);var f=Object(s.c)(function(e){return{isAuthenticated:m(e)}},{})(h),b=r(1),g=r(69),E=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderActions",value:function(){var e=this.props,t=e.confirmButtonText,r=e.onConfirm,n=e.onCancel;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:n},"Cancel")),a.a.createElement(b.k,{item:!0,xs:6,align:"right"},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:r},t)))}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.title,n=e.message,l=e.classes;return a.a.createElement(b.t,{open:t,className:l.modal},a.a.createElement(b.u,{className:l.paper},a.a.createElement(b.K,{variant:"h4"},r),a.a.createElement(b.K,{variant:"subtitle1",className:l.message},n),this.renderActions()))}}]),t}(a.a.Component);E.defaultProps={title:"Confirm",message:"Are you sure?",confirmButtonText:"Confirm"};var y=Object(g.withStyles)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},message:{padding:"15px 0 20px 0"}}})(E),v=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.open,r=e.title,n=e.message,l=e.classes;return a.a.createElement(b.t,{open:t,className:l.modal},a.a.createElement(b.u,{className:l.paper},a.a.createElement(b.K,{variant:"h3"},r),a.a.createElement(b.K,{variant:"subtitle1",className:l.message},n),a.a.createElement(b.g,null)))}}]),t}(a.a.Component);v.defaultProps={title:"Loading",message:"Please wait..."};var C=Object(g.withStyles)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,textAlign:"center",outline:"none"},message:{padding:"15px 0 20px 0"}}})(v),k=r(53),w=r(16),P=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.percentChange,r=e.amountChange,n=e.classes,l=e.variant,o=e.className,i=a.a.createElement(w.e,{className:n.negative}),s=a.a.createElement(w.d,{className:n.positive}),c=a.a.createElement(a.a.Fragment,null,"—"),u=t?" (".concat((100*t).toFixed(2),"%)"):null,d=r&&r>0,p=d?n.negative:n.positive;return r?a.a.createElement(b.K,{variant:l,className:"".concat(p," ").concat(o)},d?i:s,Object(k.a)(r),u):a.a.createElement("span",{className:o},c)}}]),t}(a.a.PureComponent);P.defaultProps={variant:"subheading"};var O=Object(g.withStyles)(function(){return{positive:{color:"#4caf50",verticalAlign:"bottom"},negative:{color:"#f44336",verticalAlign:"bottom"}}})(P),j=function(){return a.a.createElement("div",null,"404")},x=r(6244),R=r(173),M=r(116),S=r(165),H=r.n(S),N=r(166),D=r.n(N),T=r(6243),A=r(60),I=r.n(A),F=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e))).state={anchorElement:null},r.handleClose=r.handleClose.bind(babelHelpers.assertThisInitialized(r)),r.handleMenu=r.handleMenu.bind(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleClose",value:function(){this.setState({anchorElement:null})}},{key:"handleMenu",value:function(e){this.setState({anchorElement:e.currentTarget})}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.isAuthenticated,n=e.currentUser,l=this.state.anchorElement,o=Boolean(l);return a.a.createElement("div",null,a.a.createElement(H.a,{position:"static",className:t.bar},a.a.createElement(D.a,null,a.a.createElement(I.a,{className:t.title,variant:"title",color:"inherit"},a.a.createElement(T.a,{className:t.linkText,to:"/"},"CompareHare (Alpha)")),r&&a.a.createElement(I.a,{color:"inherit",className:t.link},a.a.createElement(T.a,{className:t.linkText,to:"/utilitiesDashboard"},"Utilities")),r&&a.a.createElement(I.a,{color:"inherit",className:t.link},a.a.createElement(T.a,{className:t.linkText,to:"/productsDashboard"},"Products")),r&&a.a.createElement(I.a,{color:"inherit"},n.firstName," ",n.lastName.charAt(0),". "),r&&a.a.createElement("div",null,a.a.createElement(b.l,{"aria-owns":o?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},a.a.createElement(w.a,null)),a.a.createElement(b.r,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.handleClose},a.a.createElement(b.s,{onClick:this.handleClose},"My account"),a.a.createElement(b.s,{onClick:this.handleClose},"Log out"))))))}}]),t}(a.a.Component);var L=Object(s.c)(function(e){return{isAuthenticated:m(e),currentUser:d(e)}},{})(Object(g.withStyles)(function(e){return{title:{flex:1},link:{flex:1},linkText:{color:e.palette.primary.contrastText,"&:visited":{color:e.palette.primary.contrastText},"&:active":{color:e.palette.primary.contrastText}},bar:{margin:0,marginBottom:20}}})(F));function _(e){var t=e.className,r=e.loading,n=e.children;return a.a.createElement("div",{className:"page ".concat(t||"")},a.a.createElement(L,null),r&&a.a.createElement("div",{className:"loading-overlay"},a.a.createElement("div",{className:"loading-indicator-container"},a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))),!r&&n)}var B=function(e){return e.features.dashboard.alertDisplay},z=Object(p.a)(B,function(e){return e.get("alert").toJS()}),U=Object(p.a)(B,function(e){return e.get("hasError")}),K=Object(p.a)(B,function(e){return e.get("loading")}),Y=Object(p.a)(B,function(e){return e.get("parameters").toJS()}),V=Object(p.a)(B,function(e){return e.get("prices").toJS()}),q=r(4),W=r.n(q),G=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.loadAlert)(t.params.alertId)}},{key:"renderLoading",value:function(){return a.a.createElement(b.u,{className:this.props.classes.content},a.a.createElement(b.g,null),a.a.createElement(b.K,{variant:"h5"},"Loading..."))}},{key:"renderError",value:function(){return a.a.createElement(b.u,{className:this.props.classes.content},a.a.createElement(b.K,{variant:"h5"},"Whoops, we can't load your alert..."))}},{key:"renderPrice",value:function(e){var t=this.props.classes,r="33%",n=window.innerWidth;n<1200&&n>768?r="50%":n<768&&(r="100%");var l="primary";"Variable"===e.priceStructure&&(l="default"),"Unlimited"===e.priceStructure&&(l="secondary");var o=null!==e.flatRate,i=null!==e.hasCancellationFee,s=null!==e.hasMonthlyFee,c=null!==e.hasEnrollmentFee,u=null!==e.hasNetMetering,d=null!==e.requiresDeposit,p=null!==e.hasBulkDiscounts,m=null!==e.isIntroductoryPrice,h=null!==e.hasRenewable,f=null!==e.termMonthLength,g=null!==e.hasTermEndDate&&e.hasTermEndDate;return a.a.createElement(b.b,{key:e.id,className:t.price,style:{flex:"0 1 calc(".concat(r," - 1em)")}},a.a.createElement(b.d,null,a.a.createElement(b.k,{container:!0,spacing:8},a.a.createElement(b.k,{item:!0,xs:8},a.a.createElement(b.K,{variant:"h6"},e.name)),a.a.createElement(b.k,{item:!0,xs:4,style:{textAlign:"right"}},a.a.createElement(b.f,{color:l,variant:"outlined",label:"".concat(e.priceStructure," price")})),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Price:")," $",e.pricePerUnit,"/",e.priceUnit)),a.a.createElement(b.k,{item:!0,xs:6,className:o?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Flat Rate: ")," ",this.renderNullableParameter(o,o,"".concat(e.flatRate)))),a.a.createElement(b.k,{item:!0,xs:12,className:i?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Cancellation Fee: ")," ",this.renderNullableParameter(i,e.hasCancellationFee,e.cancellationFee))),a.a.createElement(b.k,{item:!0,xs:6,className:i?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Monthly Fee: ")," ",this.renderNullableParameter(s,e.hasMonthlyFee,e.monthlyFee))),a.a.createElement(b.k,{item:!0,xs:6,className:c?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Enrollment Fee: ")," ",this.renderNullableParameter(c,e.hasEnrollmentFee,e.enrollmentFee))),a.a.createElement(b.k,{item:!0,xs:6,className:u?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Net Metering: ")," ",this.renderNullableParameter(u,e.hasNetMetering,e.netMetering))),a.a.createElement(b.k,{item:!0,xs:6,className:d?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Requires Deposit: ")," ",this.renderNullableParameter(d,e.requiresDeposit,"Yes"))),a.a.createElement(b.k,{item:!0,xs:6,className:p?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Bulk Discounts: ")," ",this.renderNullableParameter(p,e.hasBulkDiscounts,"Yes"))),a.a.createElement(b.k,{item:!0,xs:6,className:m?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Is Introductory: ")," ",this.renderNullableParameter(m,e.isIntroductoryPrice,"Yes"))),a.a.createElement(b.k,{item:!0,xs:6,className:h?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Renewable Energy: ")," ",this.renderNullableParameter(h,e.hasRenewable,"".concat(e.renewablePercentage,"%")))),a.a.createElement(b.k,{item:!0,xs:6,className:f?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Term Length: ")," ",this.renderNullableParameter(f,e.termMonthLength,"".concat(e.termMonthLength," mos.")))),a.a.createElement(b.k,{item:!0,xs:6,className:g?null:t.priceParamDisabled},a.a.createElement(b.K,{variant:"body1"},a.a.createElement("strong",null,"Term End Date: ")," ",this.renderNullableParameter(g,e.hasTermEndDate,W()(e.termEndDate||"12/12/1900").format("MMMM Do YYYY")))))),a.a.createElement(b.c,null,a.a.createElement(b.a,{href:"tel:".concat(e.supplierPhone),target:"_blank"},"Call"),a.a.createElement(b.a,{href:e.offerUrl,target:"_blank"},"Visit")))}},{key:"renderNullableParameter",value:function(e,t,r){return e?t?r:"No":a.a.createElement(a.a.Fragment,null,"–")}},{key:"renderPrices",value:function(){var e=this.props,t=e.prices,r=e.classes;return t&&0!=t.length?t.map(this.renderPrice):a.a.createElement(b.u,{className:r.content},a.a.createElement(b.K,{variant:"h5"},"Doesn't look like your alert has any matches, yet..."))}},{key:"renderParameter",value:function(e){return a.a.createElement(b.f,{className:this.props.classes.parameter,key:e.name,color:"primary",label:"".concat(e.name,": ").concat(e.value)})}},{key:"renderHeader",value:function(){var e=this.props,t=e.alert,r=e.parameters,n=e.classes;return a.a.createElement(b.u,{className:n.header},a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.K,{variant:"h5"},t.name)),a.a.createElement(b.k,{item:!0,xs:4},a.a.createElement(b.K,{variant:"h6",align:"center"},t.utilityState," ",t.utilityType)),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.K,{variant:"h6"},t.loaderIdentifier)),a.a.createElement(b.k,{item:!0,xs:12,className:n.parameterContainer},r.map(this.renderParameter))))}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.hasError,n=e.classes;return t?this.renderLoading():r?this.renderError():a.a.createElement(_,null,a.a.createElement(b.k,{container:!0,spacing:16},a.a.createElement(b.k,{item:!0,xs:!1,lg:1}),a.a.createElement(b.k,{item:!0,xs:12,sm:12,md:12,lg:10},this.renderHeader()),a.a.createElement(b.k,{item:!0,xs:!1,lg:1}),a.a.createElement(b.k,{item:!0,xs:12,sm:12,md:12,lg:12,justifyContent:"space-evenly",alignContent:"space-evenly",className:n.priceContainer},this.renderPrices())))}}]),t}(a.a.Component);var J={loadAlert:M.d},$=Object(s.c)(function(e){return{loading:K(e),hasError:U(e),alert:z(e),prices:V(e),parameters:Y(e)}},J)(Object(g.withStyles)(function(){return{header:{padding:"15px"},parameterContainer:{marginTop:"10px"},parameter:{marginRight:"5px"},content:{padding:"15px"},priceContainer:{display:"flex",flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap"},price:{marginBottom:"20px"},priceParamDisabled:{opacity:"0.25"}}})(G)),X=r(49),Z=r(43),Q=r(48),ee=function(e){return e.features.dashboard.alertsTable},te=Object(p.a)(ee,function(e){return e.get("alerts")}),re=Object(p.a)(ee,function(e){return e.get("deleting")}),ne=Object(p.a)(ee,function(e){return e.get("hasError")}),ae=Object(p.a)(ee,function(e){return e.get("loading")}),le=function(e){return e.features.alerts.editAlert},oe=Object(p.a)(le,function(e){return e.get("alertId")}),ie=Object(p.a)(le,function(e){return e.get("loading")}),se=Object(p.a)(le,function(e){return e.get("matchingOffersCount")}),ce=Object(p.a)(le,function(e){return e.get("updateError")}),ue=Object(p.a)(le,function(e){return e.get("updateProgressOpen")}),de=Object(p.a)(le,function(e){return e.get("updating")}),pe=r(47),me=r.n(pe),he=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r.state={alertId:null,showDeleteConfirm:!1},r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.loadAlerts()}},{key:"handleAddClick",value:function(){this.props.openAddAlert()}},{key:"handleEditClick",value:function(){(0,this.props.openEditAlert)(Object(k.b)(event,"data-alert-id"))}},{key:"handleDeleteClick",value:function(e){var t=Object(k.b)(e,"data-alert-id");this.setState({showDeleteConfirm:!0,alertId:t})}},{key:"confirmDeleteAlert",value:function(){var e=this,t=this.state.alertId;this.setState({showDeleteConfirm:!1}),this.props.deleteAlert(t).then(function(){e.setState({alertId:null}),me.a.success("Alert deleted!"),e.props.loadAlerts()}).catch(function(){me.a.error("Crap!","Couldnt delete your alert, sorry")})}},{key:"renderEmptyContent",value:function(){var e=this.props.classes;return a.a.createElement(b.b,{className:e.card},a.a.createElement(b.d,null,a.a.createElement(b.K,{variant:"h5",component:"h2",className:this.props.paddedTypography},"You have no alerts!"),a.a.createElement(b.K,{component:"p"},"Get started by clicking below!")),a.a.createElement(b.c,null,a.a.createElement(b.a,{size:"small",onClick:this.handleAddClick},"Add one now!")))}},{key:"renderLoading",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.g,null),a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Loading..."))}},{key:"renderError",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Whoops, we can't load your alerts..."))}},{key:"renderAlert",value:function(e){return a.a.createElement(b.H,{key:e.id},a.a.createElement(b.E,null,a.a.createElement(T.a,{to:"/alerts/".concat(e.id,"/display")},e.name)),a.a.createElement(b.E,null,e.utilityState),a.a.createElement(b.E,null,e.utilityType),a.a.createElement(b.E,null,W()(e.lastEdited).fromNow()),a.a.createElement(b.E,{align:"center"},e.matchesCount),a.a.createElement(b.E,{align:"right"},a.a.createElement(b.h,{size:"medium",color:"primary",onClick:this.handleEditClick,"data-alert-id":e.id},a.a.createElement(w.l,null))," ",a.a.createElement(b.h,{size:"medium",color:"secondary",onClick:this.handleDeleteClick,"data-alert-id":e.id},a.a.createElement(w.k,null))))}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.alerts,l=t.loading,o=t.loadingEdit,i=t.deleting,s=t.hasError,c=this.state.showDeleteConfirm;return l?this.renderLoading():s?this.renderError():0===n.length?this.renderEmptyContent():a.a.createElement(b.u,{className:r.root},a.a.createElement(b.C,null,a.a.createElement(b.G,null,a.a.createElement(b.H,null,a.a.createElement(b.E,null,"Alert Name"),a.a.createElement(b.E,null,"State"),a.a.createElement(b.E,null,"Utility"),a.a.createElement(b.E,null,"Last Edited"),a.a.createElement(b.E,null,"# Matches"),a.a.createElement(b.E,null," "))),a.a.createElement(b.D,null,n.map(this.renderAlert)),a.a.createElement(b.F,null,a.a.createElement(b.H,null,a.a.createElement(b.E,{colSpan:6},a.a.createElement(b.a,{size:"small",color:"primary",onClick:this.handleAddClick},a.a.createElement(w.b,null)," Add a new alert"))))),a.a.createElement(y,{open:c,title:"Delete Alert",confirmButtonText:"Delete",onCancel:function(){return e.setState({showDeleteConfirm:!1,alertId:null})},onConfirm:this.confirmDeleteAlert}),a.a.createElement(C,{open:l||i}),a.a.createElement(C,{open:o,message:"Loading alert..."}))}}]),t}(a.a.Component);var fe={loadAlerts:X.h,openAddAlert:Z.i,openEditAlert:Q.i,deleteAlert:X.g},be=Object(s.c)(function(e){return{loading:ae(e),loadingEdit:ie(e),deleting:re(e),hasError:ne(e),alerts:te(e)}},fe)(Object(g.withStyles)(function(e){return{card:{minWidth:400},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},paddedTypography:{padding:"15px"}}})(he)),ge=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderState",value:function(){var e=this.props.state.state;return e&&e.length>0?a.a.createElement(b.J,{label:"State",value:e,inputProps:{readOnly:!0},margin:"normal",fullWidth:!0}):null}},{key:"renderStateCode",value:function(){var e=this.props.state,t=e.stateCode,r=e.state,n=e.utility,l=e.touched;return!(null!==t)&&l?a.a.createElement("div",null,a.a.createElement(b.K,{variant:"h5",component:"h4",color:"error"},"Sorry - I can't help you."),a.a.createElement(b.K,{component:"p",color:"error"},"Right now CompareHare doesn't have the right tools in the tool box to handle"," ",a.a.createElement("strong",null,r," ",n)," ","alerts - ",a.a.createElement("a",{href:"https://twitter.com/mattheworres",target:"_blank"},"suggest it")," :-)")):null}},{key:"renderButton",value:function(){var e=this.props,t=e.onSubmit,r=e.onClose,n=e.state,l=e.classes,o=n.stateCode,i=n.touched,s=null!==o;return s||!i?a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:7},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:5,className:l.rightAligned},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!s},"Get Started!",a.a.createElement(w.o,null)))):null}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.onZipChange;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5"},"Add A New Alert"),a.a.createElement(b.K,null,"Let's start with where you live and what type of utility do you want to setup an alert for."),a.a.createElement(b.i,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(b.o,{htmlFor:"zip"},"ZIP Code"),a.a.createElement(b.m,{id:"zip",name:"zip",autoComplete:"postal-code",autoFocus:!0,maxLength:"5",onChange:r})),this.renderState(),a.a.createElement(b.i,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(b.o,{htmlFor:"utilityType"},"Utility Type"),a.a.createElement(b.v,{value:1,inputProps:{name:"utilityType",id:"utilityType"}},a.a.createElement(b.s,{value:1},"Power"),a.a.createElement(b.s,{value:2,disabled:!0},"Gas"))),this.renderStateCode(),this.renderButton())}}]),t}(a.a.Component),Ee=Object(g.withStyles)(function(e){return{paper:{top:"30%",margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},rightAligned:{textAlign:"right"}}})(ge);var ye=function(e){return e.features.alerts.addAlert},ve=Object(p.a)(ye,function(e){return e.get("addOpen")}),Ce=Object(p.a)(ye,function(e){return e.get("alertId")}),ke=Object(p.a)(ye,function(e){return e.get("creatingAlert")}),we=Object(p.a)(ye,function(e){return e.get("loadingOffers")}),Pe=Object(p.a)(ye,function(e){return e.get("matchingOffersCount")}),Oe=Object(p.a)(ye,function(e){return e.get("offersCompared")}),je=Object(p.a)(ye,function(e){return e.get("saveAlertOpen")}),xe=Object(p.a)(ye,function(e){return e.get("saveError")}),Re=r(26),Me={zip:null,utilityType:1,utility:"Power",state:null,stateCode:null,touched:!1},Se=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e))).state=Me,i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleFieldChange",value:function(e){var t,r=e.target,n=r.name,a=r.value;this.setState((t={},babelHelpers.defineProperty(t,n,a),babelHelpers.defineProperty(t,"touched",!0),t))}},{key:"handleZipChange",value:function(e){var t=e.target.value;if(this.setState({zip:t}),t&&5===t.length){var r=function(e){if("string"==typeof e){var t=parseInt(e,10),r={stateCode:null,state:null};return t>=35e3&&t<=36999?r.state="Alabama":t>=99500&&t<=99999?r.state="Alaska":t>=85e3&&t<=86999?r.state="Arizona":t>=71600&&t<=72999?r.state="Arkansas":t>=9e4&&t<=96699?r.state="California":t>=8e4&&t<=81999?r.state="Colorado":t>=6e3&&t<=6999?r.state="Connecticut":t>=19700&&t<=19999?r.state="Deleware":t>=32e3&&t<=34999?r.state="Florida":t>=3e4&&t<=31999?r.state="Georgia":t>=96700&&t<=96999?r.state="Hawaii":t>=83200&&t<=83999?r.state="Idaho":t>=6e4&&t<=62999?r.state="Illinois":t>=46e3&&t<=47999?r.state="Indiana":t>=5e4&&t<=52999?r.state="Iowa":t>=66e3&&t<=67999?r.state="Kansas":t>=4e4&&t<=42999?r.state="Kentucky":t>=7e4&&t<=71599?r.state="Louisiana":t>=3900&&t<=4999?r.state="Maine":t>=20600&&t<=21999?r.state="Maryland":t>=1e3&&t<=2799?r.state="Massachusetts":t>=48e3&&t<=49999?r.state="Michigan":t>=55e3&&t<=56999?r.state="Minnesota":t>=38600&&t<=39999?r.state="Mississippi":t>=63e3&&t<=65999?r.state="Missouri":t>=59e3&&t<=59999?r.state="Montana":t>=27e3&&t<=28999?r.state="North Carolina":t>=58e3&&t<=58999?r.state="North Dakota":t>=68e3&&t<=69999?r.state="Nebraska":t>=88900&&t<=89999?r.state="Nevada":t>=3e3&&t<=3899?r.state="New Hampshire":t>=7e3&&t<=8999?r.state="New Jersey":t>=87e3&&t<=88499?r.state="New Mexico":t>=1e4&&t<=14999?r.state="New York":t>=43e3&&t<=45999?r.state="Ohio":t>=73e3&&t<=74999?r.state="Oklahoma":t>=97e3&&t<=97999?r.state="Oregon":t>=15e3&&t<=19699?(r.stateCode=1,r.state="Pennsylvania"):t>=300&&t<=999?r.state="Puerto Rico":t>=2800&&t<=2999?r.state="Rhode Island":t>=29e3&&t<=29999?r.state="South Carolina":t>=57e3&&t<=57999?r.state="South Dakota":t>=37e3&&t<=38599?r.state="Tennessee":t>=75e3&&t<=79999||t>=88500&&t<=88599?r.state="Texas":t>=84e3&&t<=84999?r.state="Utah":t>=5e3&&t<=5999?r.state="Vermont":t>=22e3&&t<=24699?r.state="Virgina":t>=2e4&&t<=20599?r.state="Washington DC":t>=98e3&&t<=99499?r.state="Washington":t>=24700&&t<=26999?r.state="West Virginia":t>=53e3&&t<=54999?r.state="Wisconsin":t>=82e3&&t<=83199&&(r.state="Wyoming"),r}console.log("Must pass the zipcode as a string.")}(t);this.setState({state:r.state,stateCode:r.stateCode,touched:!0})}else this.setState({state:null,stateCode:null,touched:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,r=t.closeAddAlert,n=t.openAddPaPower,a=t.initializePaPower,l=this.state,o=l.zip,i=l.utilityType,s=l.stateCode;switch(r(),this.state.stateCode){case 1:a({zip:o,utilityType:i,utilityState:s}),n()}this.setState(Me)}},{key:"onClose",value:function(){this.props.closeAddAlert()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(Ee,{state:this.state,onZipChange:this.handleZipChange,onSubmit:this.handleSubmit,onClose:this.onClose}))}}]),t}(a.a.Component);var He={closeAddAlert:Z.h,initializePaPower:Re.j,openAddPaPower:Re.k},Ne=Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(Object(s.c)(function(e){return{open:ve(e)}},He)(Se)),De=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeAddAlert;(0,e.loadAlerts)(),t()}},{key:"renderStepIcon",value:function(e){var t=this.props.classes;return e?a.a.createElement(b.g,{size:28,className:t.stepIconProgress}):a.a.createElement(w.h,{color:"primary",className:t.checkIcon})}},{key:"renderStepper",value:function(){var e=this.props,t=e.creatingAlert,r=e.loadingOffers,n=e.offersCompared,l=e.saveError,o=!t,i=t&&!r,s=t&&!n;return a.a.createElement(b.z,{orientation:"vertical"},a.a.createElement(b.w,{active:o,completed:t},!t&&a.a.createElement(b.y,{icon:this.renderStepIcon(o),error:o&&l},"Saving your alert"),t&&a.a.createElement(b.y,null,"Saving your alert"),a.a.createElement(b.x,null,a.a.createElement(b.K,{variant:"body1"},"We're taking everything you told us and writing it down so our hard working bunnies know what to look for later."))),a.a.createElement(b.w,{active:i,completed:r},!r&&i&&a.a.createElement(b.y,{icon:this.renderStepIcon(i),error:i&&l},"Loading offers for your area"),r&&a.a.createElement(b.y,null,"Loaded offers for your area"),o&&a.a.createElement(b.y,null,"Loading offers for your area"),a.a.createElement(b.x,null,a.a.createElement(b.K,{variant:"body1"},"Depending on if we've ever gathered info for your specific area before, we may need to go get it first before doin' our thing."))),a.a.createElement(b.w,{active:s,completed:n},!n&&s&&a.a.createElement(b.y,{icon:this.renderStepIcon(s),error:s&&l},"Comparing offers that match your alert"),n&&a.a.createElement(b.y,null,"Compared offers that match your alert"),o&&a.a.createElement(b.y,null,"Comparing offers that match your alert"),a.a.createElement(b.x,null,a.a.createElement(b.K,{variant:"body1"},"Using our trained and adorable bunnies, we're scouring the offers available to you and figure out if any of them are what you're looking for!"))))}},{key:"renderResultText",value:function(){var e=this.props,t=e.matchingOffers,r=e.alertId,n=t>0;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0},a.a.createElement(b.K,{variant:"h5"},"Super! Alert Saved!"),n&&a.a.createElement(b.K,{variant:"subtitle1"},"Woo! Our bunnies found you ",a.a.createElement("strong",null,t)," new offers! ",a.a.createElement(T.a,{to:"/alerts/".concat(r,"/details")},"Take a look!")),!n&&a.a.createElement(b.K,{variant:"subtitle1"},"Our bunnies searched the latest offers, but didn't find anything – ",a.a.createElement("em",null,"yet"),". We'll let you know when they find something, though!",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(b.a,{variant:"contained",color:"primary",onClick:this.onClose},"Okay!"))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.creatingAlert,l=e.loadingOffers,o=e.offersCompared,i=n&&l&&o;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement("div",{className:t.paper},this.renderStepper(),i&&this.renderResultText()))}}]),t}(a.a.Component);var Te={closeAddAlert:Z.h,loadAlerts:X.h},Ae=Object(g.withStyles)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{top:"30%",margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},stepIconProgress:{},checkIcon:{fontSize:"28px"}}})(Object(s.c)(function(e){return{open:je(e),creatingAlert:ke(e),loadingOffers:we(e),offersCompared:Oe(e),matchingOffers:Pe(e),alertId:Ce(e),saveError:xe(e)}},Te)(De)),Ie=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeEditAlert;(0,e.loadAlerts)(),t()}},{key:"renderUpdating",value:function(){var e=this.props.classes;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:12,className:e.updatingTitle},a.a.createElement(b.K,{variant:"h5"},"Updating Alert")),a.a.createElement(b.k,{item:!0,xs:3,className:e.loadingIndicator},a.a.createElement(b.g,{size:50})),a.a.createElement(b.k,{item:!0,xs:9},a.a.createElement(b.K,{variant:"subtitle1"},"Our bunnies will make those changes you wanted, then will check to see if there are any matching offers, one sec...")))}},{key:"renderResultText",value:function(){var e=this.props,t=e.matchingOffers,r=e.alertId,n=e.classes,l=t>0;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0},a.a.createElement(b.K,{variant:"h5",className:n.updatingTitle},"Awesome! Alert Updated!"),l&&a.a.createElement(b.K,{variant:"subtitle1"},"Woo! Our bunnies found you ",a.a.createElement("strong",null,t)," new offers! ",a.a.createElement(T.a,{to:"/alerts/".concat(r,"/details")},"Take a look!")),!l&&a.a.createElement(b.K,{variant:"subtitle1"},"Our bunnies searched the latest offers, but didn't find anything – ",a.a.createElement("em",null,"yet"),". We'll let you know when they find something, though!",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(b.a,{variant:"contained",color:"primary",onClick:this.onClose},"Okay!"))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.updating;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(b.u,{className:t.paper},n&&this.renderUpdating(),!n&&this.renderResultText()))}}]),t}(a.a.Component);var Fe={closeEditAlert:Q.h,loadAlerts:X.h},Le=Object(g.withStyles)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{top:"30%",margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},updatingTitle:{marginBottom:"20px"},loadingIndicator:{alignSelf:"center",textAlign:"center"}}})(Object(s.c)(function(e){return{open:ue(e),updating:de(e),matchingOffers:se(e),alertId:oe(e),updateError:ce(e)}},Fe)(Ie)),_e=function(e){return e.features.alerts.paPower},Be=Object(p.a)(_e,function(e){return!0===e.get("addOpen")&&1===e.get("addStage")}),ze=Object(p.a)(_e,function(e){return!0===e.get("addOpen")&&2===e.get("addStage")}),Ue=Object(p.a)(_e,function(e){return!0===e.get("addOpen")&&3===e.get("addStage")}),Ke=Object(p.a)(_e,function(e){return e.get("alertModel").toJS()}),Ye=Object(p.a)(_e,function(e){return!0===e.get("editOpen")&&1===e.get("editStage")}),Ve=Object(p.a)(_e,function(e){return!0===e.get("editOpen")&&2===e.get("editStage")}),qe=Object(p.a)(_e,function(e){return!0===e.get("editOpen")&&3===e.get("editStage")}),We=r(36),Ge=r(15),Je=Ge.d({name:Ge.e().required("Alert name is required").max(256,"Name cannot be longer than 256 characters"),hasMinimumPrice:Ge.a(),minimumPrice:Ge.c().when(["hasMaximumPrice","hasMinimumPrice"],{is:!0,then:Ge.c().test("should-be-less-than-max","Cannot be greater than max",function(e){var t=this.parent.maximumPrice;return!t||e<t}),otherwise:Ge.c().min(0,"Minimum price must be positive")}),hasMaximumPrice:Ge.a(),maximumPrice:Ge.c().when(["hasMaximumPrice","hasMinimumPrice"],{is:!0,then:Ge.c().test("should-be-greater-than-min","Cannot be less than min",function(e){var t=this.parent.minimumPrice;return!t||e>t}),otherwise:Ge.c().min(0,"Maximum price must be positive")}),hasMinimumMonthLength:Ge.a(),minimumMonthLength:Ge.c().integer("Minimum month length must be a whole number").when(["hasMaximumMonthLength","hasMinimumMonthLength"],{is:!0,then:Ge.c().test("should-be-less-than-max","Cannot be greater than max",function(e){var t=this.parent.maximumMonthLength;return!t||e<t}),otherwise:Ge.c().min(0,"Minimum month length must be positive")}),hasMaximumMonthLength:Ge.a(),maximumMonthLength:Ge.c().integer("Maxmimum month length must be a whole number").when(["hasMaximumMonthLength","hasMinimumMonthLength"],{is:!0,then:Ge.c().test("should-be-greater-than-min","Cannot be less than min",function(e){var t=this.parent.minimumMonthLength;return!t||e>t}),otherwise:Ge.c().min(0,"Maximum month length must be positive")})}),$e=Ge.d({filterRenewable:Ge.a(),hasRenewable:Ge.a(),minimumRenewablePercent:Ge.c().integer("Must be a whole number").when(["filterRenewable","hasRenewable"],{is:!0,then:Ge.c().test("should-be-less-than-max","Cannot be greater than max",function(e){var t=this.parent.maximumRenewablePercent;return!t||e<t}),otherwise:Ge.c().min(0,"Minimum renewable percent must be a positive number")}),maximumRenewablePercent:Ge.c().integer("Must be a whole number").max(100,"Maximum renewable percent cannot be greater than 100").when(["filterRenewable","hasRenewable"],{is:!0,then:Ge.c().test("should-be-greater-than-min","Cannot be less than min",function(e){var t=this.parent.minimumRenewablePercent;return!t||e>t}),otherwise:Ge.c().max(100,"Maximum renewable percent can only be 100% or less")}),filterCancellationFee:Ge.a(),hasCancellationFee:Ge.a(),filterMonthlyFee:Ge.a(),hasMonthlyFee:Ge.a(),filterEnrollmentFee:Ge.a(),hasEnrollmentFee:Ge.a(),filterRequiresDeposit:Ge.a(),requiresDeposit:Ge.a(),filterBulkDiscounts:Ge.a(),hasBulkDiscounts:Ge.a()}),Xe=Ge.d({comments:Ge.e().max(512,"Comments cannot be longer than 512 characters")}),Ze={name:"",hasMinimumPrice:!1,minimumPrice:0,hasMaximumPrice:!1,maximumPrice:0,hasMinimumMonthLength:!1,minimumMonthLength:0,hasMaximumMonthLength:!1,maximumMonthLength:0},Qe={filterRenewable:!1,hasRenewable:!1,minimumRenewablePercent:0,maximumRenewablePercent:100,filterCancellationFee:!1,hasCancellationFee:!1,filterMonthlyFee:!1,hasMonthlyFee:!1,filterEnrollmentFee:!1,hasEnrollmentFee:!1,filterRequiresDeposit:!1,requiresDeposit:!1,filterBulkDiscounts:!1,hasBulkDiscounts:!1},et={comments:""},tt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(vt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d}))}}]),t}(a.a.Component);var rt={closePaPower:Re.i,openAddAlert:Z.i,openAddPaPower2:Re.l},nt=Object(s.c)(function(e){return{open:Be(e)}},rt)(Object(We.a)({mapPropsToValues:function(){return Ze},handleSubmit:function(e,t){var r=t.props,n=t.resetForm;(0,r.openAddPaPower2)(e),n()},validationSchema:Je})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(tt))),at=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.resetForm()}},{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(kt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d}))}}]),t}(a.a.Component);var lt={closePaPower:Re.i,openAddPaPower3:Re.m},ot=Object(s.c)(function(e){return{open:ze(e)}},lt)(Object(We.a)({mapPropsToValues:function(){return Qe},handleSubmit:function(e,t){var r=t.props,n=t.resetForm;(0,r.openAddPaPower3)(e),n()},validationSchema:$e})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(at))),it=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.resetForm()}},{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes,m=e.alertModel;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(Pt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d,alertModel:m}))}}]),t}(a.a.Component);var st={closePaPower:Re.i,saveAlert:Z.j},ct=Object(s.c)(function(e){return{open:Ue(e),alertModel:Ke(e)}},st)(Object(We.a)({mapPropsToValues:function(){return et},handleSubmit:function(e,t){var r=t.props,n=t.resetForm,a=r.closePaPower,l=r.saveAlert,o=r.alertModel;o.comments=e.comments,l(o),a(),n()},validationSchema:Xe})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"scroll"}}})(it))),ut=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(vt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d}))}}]),t}(a.a.Component);var dt={closePaPower:Re.i,openEditPaPower2:Re.o},pt=Object(s.c)(function(e){return{open:Ye(e)}},dt)(Object(We.a)({mapPropsToValues:function(){return Ze},handleSubmit:function(e){var t=e.props,r=e.resetForm;(0,t.openEditPaPower2)(),r()},validationSchema:Je})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(ut))),mt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.resetForm()}},{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(kt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d}))}}]),t}(a.a.Component);var ht={closePaPower:Re.i,openEditPaPower3:Re.p},ft=Object(s.c)(function(e){return{open:Ve(e)}},ht)(Object(We.a)({mapPropsToValues:function(){return Qe},handleSubmit:function(e){var t=e.props,r=e.resetForm;(0,t.openEditPaPower3)(),r()},validationSchema:$e})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(mt))),bt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.resetForm()}},{key:"onClose",value:function(){var e=this.props,t=e.closePaPower;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.open,r=e.errors,n=e.handleBlur,l=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,s=e.isValid,c=e.setFieldValue,u=e.touched,d=e.values,p=e.classes,m=e.alertModel;return a.a.createElement(b.t,{open:t,onClose:this.onClose,className:p.modal},a.a.createElement(Pt,{isNew:!0,onClose:this.onClose,errors:r,handleBlur:n,handleChange:l,handleSubmit:o,isSubmitting:i,isValid:s,setFieldValue:c,touched:u,values:d,alertModel:m}))}}]),t}(a.a.Component);var gt={closePaPower:Re.i,updateAlert:Q.j},Et=Object(s.c)(function(e){return{open:qe(e),alertModel:Ke(e)}},gt)(Object(We.a)({mapPropsToValues:function(){return et},handleSubmit:function(e,t){var r=t.props,n=t.resetForm,a=r.closePaPower,l=r.updateAlert,o=r.alertModel;o.comments=e.comments,l(o),a(),n()},validationSchema:Xe})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",overflow:"scroll"}}})(bt))),yt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onCheckPress",value:function(e,t){this.props.setFieldValue(e,!t)}},{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.onClose,n=e.isValid;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!n},"Next",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.handleChange,n=e.handleBlur,l=e.values,o=e.isNew;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5"},o?"New":"Edit"," Alert: PA Power"),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Name & Price")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Flags")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.J,{id:"name",label:"Name",className:t.name,fullWidth:!0,value:l.name,onChange:r("name"),onBlur:n("name"),margin:"normal",placeholder:"New Alert 1",autoFocus:!0,error:this.hasError("name"),helperText:this.getErrorText("name")}),a.a.createElement(b.K,null,"Now, tell us what kind of offers you want us to notify you about:"),a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:l.hasMinimumPrice,onChange:r("hasMinimumPrice"),value:l.hasMinimumPrice,color:"primary"}),label:"Minimum price"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},l.hasMinimumPrice&&a.a.createElement(b.J,{id:"minimumPrice",label:"Minimum Price",value:l.minimumPrice,onChange:r("minimumPrice"),onBlur:n("minimumPrice"),error:this.hasError("minimumPrice"),helperText:this.getErrorText("minimumPrice"),InputProps:{startAdornment:a.a.createElement(b.n,{position:"start"},"$"),endAdornment:a.a.createElement(b.n,{position:"end"},"/kWh")},margin:"normal"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:l.hasMaximumPrice,onChange:r("hasMaximumPrice"),value:l.hasMaximumPrice,color:"primary"}),label:"Maximum price"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},l.hasMaximumPrice&&a.a.createElement(b.J,{id:"maximumPrice",label:"Maximum Price",value:l.maximumPrice,onChange:r("maximumPrice"),onBlur:n("maximumPrice"),error:this.hasError("maximumPrice"),helperText:this.getErrorText("maximumPrice"),InputProps:{startAdornment:a.a.createElement(b.n,{position:"start"},"$"),endAdornment:a.a.createElement(b.n,{position:"end"},"/kWh")},margin:"normal"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:l.hasMinimumMonthLength,onChange:r("hasMinimumMonthLength"),value:l.hasMinimumMonthLength,color:"primary"}),label:"Min month length"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},l.hasMinimumMonthLength&&a.a.createElement(b.J,{id:"minimumMonthLength",label:"Min Month Length",value:l.minimumMonthLength,onChange:r("minimumMonthLength"),onBlur:n("minimumMonthLength"),error:this.hasError("minimumMonthLength"),helperText:this.getErrorText("minimumMonthLength"),InputProps:{endAdornment:a.a.createElement(b.n,{position:"end"},"mos.")},margin:"normal"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:l.hasMaximumMonthLength,onChange:r("hasMaximumMonthLength"),value:l.hasMaximumMonthLength,color:"primary"}),label:"Max month length"})),a.a.createElement(b.k,{item:!0,xs:6,className:t.dynamicGridCell},l.hasMaximumMonthLength&&a.a.createElement(b.J,{id:"maximumMonthLength",label:"Max Month Length",value:l.maximumMonthLength,onChange:r("maximumMonthLength"),onBlur:n("maximumMonthLength"),error:this.hasError("maximumMonthLength"),helperText:this.getErrorText("maximumMonthLength"),InputProps:{endAdornment:a.a.createElement(b.n,{position:"end"},"mos.")},margin:"normal"}))),this.renderButtons())}}]),t}(a.a.Component),vt=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},stepper:{paddingTop:"20px",paddingBottom:0},dynamicGridCell:{height:"72px"}}})(yt),Ct=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"onCheckChange",value:function(e,t){this.props.setFieldValue(e,!t)}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.onClose,n=e.errors,l=0===Object.keys(n).filter(function(e){return void 0!==n[e]}).length;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!l},"Next",a.a.createElement(w.o,null))))}},{key:"renderYesNoOptions",value:function(){return[{value:!0,text:"Yes"},{value:!1,text:"No"}].map(function(e,t){return a.a.createElement(b.s,{key:t,value:e.value},e.text)})}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.handleChange,l=t.handleBlur,o=t.values,i=t.isNew;return a.a.createElement("form",{className:r.paper},a.a.createElement(b.K,{variant:"h5"},i?"New":"Edit"," Alert: PA Power"),a.a.createElement(b.z,{className:r.stepper},a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Name & Price")),a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Flags")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.k,{container:!0,spacing:16},a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterRenewable,onChange:n("filterRenewable"),value:o.filterRenewable,color:"primary"}),label:"Renewable"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterRenewable&&a.a.createElement(b.v,{value:o.hasRenewable,onChange:function(){return e.onCheckChange("hasRenewable",o.hasRenewable)},inputProps:{name:"hasRenewable",id:"hasRenewable"}},this.renderYesNoOptions())),o.filterRenewable&&o.hasRenewable&&a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.J,{className:r.dynamicSecondaryElement,id:"minimumRenewablePercent",label:"Min Renewable",value:o.minimumRenewablePercent,onChange:n("minimumRenewablePercent"),onBlur:l("minimumRenewablePercent"),error:this.hasError("minimumRenewablePercent"),helperText:this.getErrorText("minimumRenewablePercent"),InputProps:{endAdornment:a.a.createElement(b.n,{position:"end"},"%")},margin:"normal"})),o.filterRenewable&&o.hasRenewable&&a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.J,{className:r.dynamicSecondaryElement,id:"maximumRenewablePercent",label:"Max Renewable",value:o.maximumRenewablePercent,onChange:n("maximumRenewablePercent"),onBlur:l("maximumRenewablePercent"),error:this.hasError("maximumRenewablePercent"),helperText:this.getErrorText("maximumRenewablePercent"),InputProps:{endAdornment:a.a.createElement(b.n,{position:"end"},"%")},margin:"normal"})),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterCancellationFee,onChange:n("filterCancellationFee"),value:o.filterCancellationFee,color:"primary"}),label:"Cancellation Fees"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterCancellationFee&&a.a.createElement(b.v,{value:o.hasCancellationFee,onChange:function(){return e.onCheckChange("hasCancellationFee",o.hasCancellationFee)},inputProps:{name:"hasCancellationFee",id:"hasCancellationFee"}},this.renderYesNoOptions())),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterMonthlyFee,onChange:n("filterMonthlyFee"),value:o.filterMonthlyFee,color:"primary"}),label:"Monthly Fees"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterMonthlyFee&&a.a.createElement(b.v,{value:o.hasMonthlyFee,onChange:function(){return e.onCheckChange("hasMonthlyFee",o.hasMonthlyFee)},inputProps:{name:"hasMonthlyFee",id:"hasMonthlyFee"}},this.renderYesNoOptions())),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterEnrollmentFee,onChange:n("filterEnrollmentFee"),value:o.filterEnrollmentFee,color:"primary"}),label:"Enrollment Fees"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterEnrollmentFee&&a.a.createElement(b.v,{value:o.hasEnrollmentFee,onChange:function(){return e.onCheckChange("hasEnrollmentFee",o.hasEnrollmentFee)},inputProps:{name:"hasEnrollmentFee",id:"hasEnrollmentFee"}},this.renderYesNoOptions())),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterRequiresDeposit,onChange:n("filterRequiresDeposit"),value:o.filterRequiresDeposit,color:"primary"}),label:"Requires Deposit"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterRequiresDeposit&&a.a.createElement(b.v,{value:o.requiresDeposit,onChange:function(){return e.onCheckChange("requiresDeposit",o.requiresDeposit)},inputProps:{name:"requiresDeposit",id:"requiresDeposit"}},this.renderYesNoOptions())),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.j,{control:a.a.createElement(b.A,{checked:o.filterBulkDiscounts,onChange:n("filterBulkDiscounts"),value:o.filterBulkDiscounts,color:"primary"}),label:"Bulk Discounts"})),a.a.createElement(b.k,{item:!0,xs:6},o.filterBulkDiscounts&&a.a.createElement(b.v,{value:o.hasBulkDiscounts,onChange:function(){return e.onCheckChange("hasBulkDiscounts",o.hasBulkDiscounts)},inputProps:{name:"hasBulkDiscounts",id:"hasBulkDiscounts"}},this.renderYesNoOptions()))),this.renderButtons())}}]),t}(a.a.Component),kt=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},stepper:{paddingTop:"20px",paddingBottom:"10px"},dynamicSecondaryCell:{paddingTop:0},dynamicSecondaryElement:{marginTop:0}}})(Ct),wt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.onClose,n=e.errors,l=e.classes,o=0===Object.keys(n).filter(function(e){return void 0!==n[e]}).length;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:7},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:5,className:l.rightAligned},a.a.createElement(b.a,{type:"button",variant:"contained",color:"primary",onClick:t,disabled:!o},"Save Alert")))}},{key:"renderTextField",value:function(e,t,r){var n=this.props.alertModel[e];return a.a.createElement(b.k,{item:!0,xs:r},a.a.createElement(b.q,{primary:n,secondary:t}))}},{key:"renderPriceFields",value:function(){var e=this.props.alertModel,t=e.hasMinimumPrice,r=e.hasMaximumPrice,n=e.minimumPrice,l=e.maximumPrice;if(!t&&!r)return null;var o="";return t&&!r?o="Prices above $".concat(n,"/kWh"):t&&r?o="Prices between $".concat(n," and $").concat(l,"/kWh"):!t&&r&&(o="Prices below $".concat(l,"/kWh")),a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:o,secondary:"Filter by Price"}))}},{key:"renderMonthFields",value:function(){var e=this.props.alertModel,t=e.hasMinimumMonthLength,r=e.hasMaximumMonthLength,n=e.minimumMonthLength,l=e.maximumMonthLength;if(!t&&!r)return null;var o="";return t&&!r?o="At least ".concat(n," month long contracts"):t&&r?o="Contracts between ".concat(n," and ").concat(l," months long"):!t&&r&&(o="Contracts no longer than ".concat(l," months long")),a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:o,secondary:"Filter by Contract Length"}))}},{key:"renderRenewableFields",value:function(){var e=this.props.alertModel,t=e.filterRenewable,r=e.hasRenewable,n=e.minimumRenewablePercent,l=e.maximumRenewablePercent;if(!t)return null;var o="";return o=r?0!=n||100!=l?"Only offers with ".concat(n,"% - ").concat(l,"% of renewable energy sources"):"Only offers with any amount of renewable energy sources":"No offers with any renewable energy sources",a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:o,secondary:"Filter by Renewable Energy"}))}},{key:"renderConditionalFields",value:function(){var e=this.props.alertModel,t=e.filterCancellationFee,r=e.hasCancellationFee,n=e.filterMonthlyFee,l=e.hasMonthlyFee,o=e.filterEnrollmentFee,i=e.hasEnrollmentFee,s=e.filterRequiresDeposit,c=e.requiresDeposit,u=e.filterBulkDiscounts,d=e.hasBulkDiscounts;return t||n||o||s||u?a.a.createElement(b.k,{container:!0,className:this.props.classes.conditionalWrapper,spacing:16},t&&a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:"Only offers with ".concat(r?null:"NO "," cancellation fees"),secondary:"Cancellation Fees"})),n&&a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:"Only offers with ".concat(l?null:"NO "," monthly fees"),secondary:"Monthly Fees"})),o&&a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:"Only offers with ".concat(i?null:"NO "," monthly fees"),secondary:"Enrollment Fees"})),s&&a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:"Only offers with ".concat(c?null:"NO "," deposits required"),secondary:"Required Deposits"})),u&&a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.q,{primary:"Only offers with ".concat(d?null:"NO "," bulk discounts"),secondary:"Bulk Discounts"}))):null}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.isNew,n=e.handleChange,l=e.handleBlur,o=e.values;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5"},r?"New":"Edit"," Alert: PA Power"),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Name & Price")),a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Flags")),a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.K,{variant:"h6",className:t.subText},"Take a moment and review your alert before saving it:"),a.a.createElement(b.k,{container:!0,spacing:16,className:t.mainGridContainer},this.renderTextField("name","Alert Name",6),this.renderTextField("zip","Service Zip",6),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.q,{primary:"Pennsylvania",secondary:"State"})),a.a.createElement(b.k,{item:!0,xs:6},a.a.createElement(b.q,{primary:"Power",secondary:"Utility"})),this.renderPriceFields(),this.renderMonthFields(),this.renderRenewableFields(),this.renderConditionalFields(),a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.K,{variant:"h6"},"Feel free to jot down personal notes here, help future you remember what you were thinking:"),a.a.createElement(b.J,{className:t.dynamicSecondaryElement,id:"comments",label:"Comments",value:o.comments,placeholder:"I want to make sure I dont miss any great promotional rates on renewable energy...",onChange:n("comments"),onBlur:l("comments"),error:this.hasError("comments"),helperText:this.getErrorText("comments"),multiline:!0,fullWidth:!0,rows:4,margin:"normal"}))),this.renderButtons())}}]),t}(a.a.Component),Pt=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:51*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},stepper:{paddingTop:"20px",paddingBottom:"10px"},mainGridContainer:{marginBottom:"15px"},subText:{marginBottom:"15px"},conditionalWrapper:{padding:"8px"},rightAligned:{textAlign:"right"}}})(wt),Ot=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return a.a.createElement(_,null,a.a.createElement(b.k,{container:!0,spacing:16},a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1}),a.a.createElement(b.k,{item:!0,xs:12,sm:12,md:12,lg:10},a.a.createElement(be,null)),a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1})),a.a.createElement(Ne,null),a.a.createElement(nt,null),a.a.createElement(ot,null),a.a.createElement(ct,null),a.a.createElement(pt,null),a.a.createElement(ft,null),a.a.createElement(Et,null),a.a.createElement(Ae,null),a.a.createElement(Le,null))}}]),t}(a.a.Component);var jt=Object(s.c)(function(){return{}},{})(Ot),xt=r(79),Rt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadIdentity,r=e.history,n=e.location;t().then(function(){if(n.state){var e=n.state.from;e&&e.pathname?r.push(n.state.from.pathname):r.push("/")}else r.push("/")}).catch(function(){if(n.state){var e=n.state.from;e&&e.pathname&&r.push("/signin",{state:{from:e}})}else r.push("/signin")})}},{key:"render",value:function(){return a.a.createElement(_,{loading:!0})}}]),t}(a.a.Component),Mt=Object(s.c)(null,{loadIdentity:xt.d})(Rt),St=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.logOut,r=e.history;t().then(function(){return r.push("/signin")})}},{key:"render",value:function(){return a.a.createElement("div",null,"Uh, logout here")}}]),t}(n.PureComponent),Ht=Object(s.c)(null,{logOut:xt.e})(St),Nt=r(168),Dt=r.n(Nt),Tt=r(113),At=r.n(Tt),It=r(114),Ft=r.n(It),Lt=r(164),_t=r.n(Lt),Bt=r(169),zt=r.n(Bt),Ut=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasValidationErrors",value:function(e){var t=this.props.validationErrors;return null!=t[e]&&t[e].length>0}},{key:"getValidationErrorText",value:function(e){var t=this.props.validationErrors;return this.hasValidationErrors(e)?t[e].join(" "):""}},{key:"renderButton",value:function(){var e=this.props,t=e.classes,r=e.onSubmit,n=e.submitting,l=n?a.a.createElement(b.g,{color:"secondary"}):"Sign In";return a.a.createElement(At.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:r,disabled:n},l)}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.onFieldChange;return a.a.createElement(b.u,{className:t.paper},a.a.createElement(Dt.a,{className:t.avatar},a.a.createElement(zt.a,null)),a.a.createElement(b.K,{component:"h1",variant:"h5"},"CompareHare (Alpha)"),a.a.createElement(b.K,{component:"h1",variant:"h4"},"Sign in"),a.a.createElement("form",{className:t.form},a.a.createElement(Ft.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(b.o,{htmlFor:"email"},"Email Address"),a.a.createElement(b.m,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,error:this.hasValidationErrors("email"),onChange:r})),a.a.createElement(Ft.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(b.o,{htmlFor:"password"},"Password"),a.a.createElement(b.m,{name:"password",type:"password",id:"password",error:this.hasValidationErrors("password"),autoComplete:"current-password",onChange:r})),a.a.createElement(_t.a,{control:a.a.createElement(b.e,{value:"remember",color:"primary",onChange:r}),label:"Remember me"}),this.renderButton()))}}]),t}(a.a.Component),Kt=Object(g.withStyles)(function(e){return{paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Ut),Yt=r(10),Vt=r.n(Yt),qt=r(170),Wt=r.n(qt),Gt=function(e){return e.features.authentication.signin},Jt=Object(p.a)(Gt,function(e){return e.get("submitting")}),$t=Object(p.a)(Gt,function(e){return e.get("validationErrors").toJS()}),Xt=r(117),Zt=r(522),Qt=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e))).state={email:"",password:"",rememberMe:!1,submitting:!1},i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.setState({email:"",password:"",rememberMe:!1})}},{key:"handleFieldChange",value:function(e){var t=e.target,r=t.name,n=t.value;this.setState(babelHelpers.defineProperty({},r,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var r=this.props,n=r.authenticate,a=r.history,l=r.location,o=r.signIn,i=this.state,s={email:i.email,password:i.password};this.setState({submitting:!0}),o(s).then(function(e){var t;if(n(e.value),me.a.success("Welcome back!"),l.state){var r=l.state.from;r&&r.pathname&&(t=r.pathname)}t?a.push(t):a.push("/utilitiesDashboard")}).catch(function(){me.a.error("Uh oh: An error occurred while attempting to sign in.")}).finally(function(){t.setState({submitting:!1})})}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.validationErrors,n=this.state.submitting;return a.a.createElement("main",{className:t.main},a.a.createElement(Wt.a,null),a.a.createElement(Kt,{validationErrors:r,onFieldChange:this.handleFieldChange,onSubmit:this.handleSubmit,submitting:n}))}}]),t}(a.a.Component);var er={signIn:Xt.d,authenticate:xt.c},tr=Object(Zt.withSnackbar)()(Vt()(function(e){return{main:babelHelpers.defineProperty({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"})}})(Object(s.c)(function(e){return{submitting:Jt(e),validationErrors:$t(e)}},er)(Qt))),rr=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return a.a.createElement(_,null,a.a.createElement("div",null,"TODO: a vertical stepper on MD-XL screens and mobile stepper on XL-SM screens basically selling why CompareHare is awesome (and mainly what it's used for)"),a.a.createElement("div",null,"Also, TODO: Make NavBar respect isAuthenticated"),a.a.createElement("br",null),a.a.createElement("div",null,"You wanna go here: ",a.a.createElement(T.a,{to:"/utilitiesDashboard"},"Utilities Dashboard"),a.a.createElement("br",null),"or here: ",a.a.createElement(T.a,{to:"/productsDashboard"},"Products Dashboard")))}}]),t}(a.a.Component),nr=r(50),ar=r(54),lr=function(e,t){return Object(p.a)(e,function(e){return e.get(t)})},or=function(e){return e.features.products.productDisplay},ir=lr(or,"loading"),sr=lr(or,"product"),cr=lr(or,"deleting"),ur=lr(or,"hasError"),dr=lr(or,"toggling"),pr=lr(or,"toggleError"),mr=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"handleDateChange",value:function(e){var t=this.props,r=t.handleChange,n=t.checkManualDate,a=t.trackedProductRetailerId,l=e.target.value;r(e),n({trackedProductRetailerId:a,priceDate:l})}},{key:"renderError",value:function(){var e=this.props.saveError,t=Object.keys(e).map(function(t,r){return a.a.createElement(b.K,{key:r,color:"error"},a.a.createElement("strong",null,t),": ",e[t][0])});return a.a.createElement(b.K,{color:"error"},a.a.createElement("strong",null,"Whoops, looks like theres an issue:"),t)}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.onClose,n=e.isValid;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!n},"Add",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.handleChange,n=e.handleBlur,l=e.values,o=e.touched,i=e.dateCheck,s=e.saveError,c=a.a.createElement(w.g,{className:t.goodDate}),u=a.a.createElement(w.i,{color:"error"}),d=Boolean(o.priceDate),p=i?c:u;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5"},"Add Manual Price"),a.a.createElement(b.K,null,"Know what price this item was on a certain date? Enter it now!"),a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.J,{id:"priceDate",label:"Date",className:t.priceDate,type:"date",autoComplete:"off",value:l.priceDate,onChange:r("priceDate"),onBlur:n("priceDate"),margin:"normal",error:this.hasError("priceDate"),helperText:this.getErrorText("priceDate"),InputProps:{onChange:this.handleDateChange,endAdornment:d?a.a.createElement(b.n,{position:"end"},p):null}})),a.a.createElement(b.k,{item:!0,xs:12},a.a.createElement(b.J,{id:"price",label:"Price",value:l.price,className:t.price,onChange:r("price"),onBlur:n("price"),error:this.hasError("price"),helperText:this.getErrorText("price"),InputProps:{startAdornment:a.a.createElement(b.n,{position:"start"},"$")},margin:"normal"}))),s&&this.renderError(),this.renderButtons())}}]),t}(a.a.PureComponent),hr=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:71*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},goodDate:{color:"green"},priceDate:{width:"50%",paddingBottom:"20px"},price:{width:"50%",paddingBottom:"20px"}}})(mr),fr=function(e){return e.features.products.addManual},br=lr(fr,"addManualOpen"),gr=lr(fr,"loading"),Er=lr(fr,"saveError"),yr=(lr(fr,"dateChecking"),lr(fr,"dateCheck")),vr=(lr(fr,"saving"),lr(fr,"manualModel"),lr(fr,"trackedProductRetailerId")),Cr=lr(fr,"trackedProductId"),kr=Ge.d({priceDate:Ge.b().required("Price date is required"),price:Ge.c().required("Price is required").min(.01,"Price must be at least 1 cent USD")}),wr={priceDate:null,price:null},Pr=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeAddManual;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.errors,l=e.handleBlur,o=e.handleChange,i=e.handleSubmit,s=e.setFieldValue,c=e.values,u=e.touched,d=e.isSubmitting,p=e.isValid,m=e.checkManualDate,h=e.dateCheck,f=e.trackedProductRetailerId,g=e.saveError;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(hr,{values:c,errors:n,saveError:g,touched:u,trackedProductRetailerId:f,checkManualDate:m,dateCheck:h,isSubmitting:d,isValid:p,setFieldValue:s,handleBlur:l,handleChange:o,handleSubmit:i,onClose:this.onClose}))}}]),t}(a.a.PureComponent);var Or={closeAddManual:nr.i,checkManualDate:nr.h,saveManual:nr.k,loadProductCurrent:ar.g},jr=Object(s.c)(function(e){return{open:br(e),loading:gr(e),saveError:Er(e),dateCheck:yr(e),trackedProductRetailerId:vr(e),trackedProductId:Cr(e)}},Or)(Object(We.a)({mapPropsToValues:function(){return wr},handleSubmit:function(e,t){var r=t.props,n=t.resetForm,a=r.trackedProductId,l=r.trackedProductRetailerId,o=r.saveManual,i=r.closeAddManual,s=r.loadProductCurrent;o(l,e,function(){s(a),i()}),n()},validationSchema:kr})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(Pr))),xr=a.a.createElement(w.h,{color:"primary"}),Rr=a.a.createElement(w.j,{color:"disabled"}),Mr=a.a.createElement(w.m,{color:"error"}),Sr=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r.state={productId:null,menuAnchor:null,menuRetailerId:null,menuRetailerName:null,menuRetailerEnabled:!1},r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.toggling,n=t.toggleError,a=t.loadProductCurrent,l=t.trackedProductId;r||r==e.toggling||n||a(l)}},{key:"handleAddPriceClick",value:function(){var e=this.props.product;this.props.openAddManual(e.trackedProductId,this.state.menuRetailerId),this.closeRetailerMenu()}},{key:"handleToggle",value:function(){var e=this.state,t=e.menuRetailerId,r=e.menuRetailerEnabled;this.props.toggleProductRetailer(t,!r),this.closeRetailerMenu()}},{key:"openRetailerMenu",value:function(e){var t=Object(k.b)(e,"data-tracked-product-retailer-id"),r=(this.props.product||{}).productRetailers.filter(function(e){return e.trackedProductRetailerId==t})[0];this.setState({menuAnchor:e.currentTarget,menuRetailerId:t,menuRetailerEnabled:r&&r.enabled,menuRetailerName:r&&r.retailerName})}},{key:"closeRetailerMenu",value:function(){this.setState({menuAnchor:null,menuRetailerId:null,menuRetailerName:null,menuRetailerEnabled:!1})}},{key:"renderLoading",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.g,null),a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Loading..."))}},{key:"renderEmptyContent",value:function(){var e=this.props.classes;return a.a.createElement(b.b,{className:e.card},a.a.createElement(b.d,null,a.a.createElement(b.K,{variant:"h5",component:"h2",className:this.props.paddedTypography},"You have no retailers for this tracked product!"),a.a.createElement(b.K,{component:"p"},"Get started by clicking below!")),a.a.createElement(b.c,null,a.a.createElement(b.a,{size:"small"},"Add one now!")))}},{key:"renderError",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Whoops we can't load your product..."))}},{key:"renderMenu",value:function(){var e=this.state,t=e.menuAnchor,r=e.menuRetailerId,n=e.menuRetailerEnabled,l=Boolean(t&&r);return a.a.createElement(b.r,{id:"retailer-menu",anchorEl:t,open:l,onClose:this.closeRetailerMenu,PaperProps:{style:{maxHeight:216,width:225}}},a.a.createElement(b.s,{onClick:this.handleAddPriceClick},a.a.createElement(b.p,null,a.a.createElement(w.b,null)),a.a.createElement(b.q,{inset:!0,primary:"Add Price (manual)"})),a.a.createElement(b.s,{onClick:this.handleToggle},a.a.createElement(b.p,null,n?a.a.createElement(w.q,null):a.a.createElement(w.r,null)),a.a.createElement(b.q,{inset:!0,primary:n?"Disable":"Enable"})),a.a.createElement(b.s,{disabled:!0},a.a.createElement(b.p,null,a.a.createElement(w.l,null)),a.a.createElement(b.q,{inset:!0,primary:"Edit"})),a.a.createElement(b.s,{disabled:!0},a.a.createElement(b.p,null,a.a.createElement(w.k,null)),a.a.createElement(b.q,{inset:!0,primary:"Delete"})))}},{key:"renderRetailer",value:function(e){var t,r=this.props.classes,n=a.a.createElement(a.a.Fragment,null,"—"),l=e.price,o=e.percentChange,i=e.amountChange,s=e.lastUpdated,c=e.retailerName,u=e.trackedProductRetailerId,d=e.scrapeUrl,p=e.enabled?xr:Rr,m=e.hasScrapingExceptions?Mr:null;if(null!==s){var h=l?a.a.createElement(b.K,{variant:"h6",color:"primary"},Object(k.a)(l)):n;t=a.a.createElement(a.a.Fragment,null,a.a.createElement(b.E,null,W()(s||"12/12/1900").format("MMMM Do YYYY")),a.a.createElement(b.E,{align:"right"},h),a.a.createElement(b.E,{align:"right"},a.a.createElement(O,{amountChange:i,percentChange:o})))}else t=a.a.createElement(a.a.Fragment,null,a.a.createElement(b.E,{colSpan:3},a.a.createElement(b.K,{color:"textSecondary",className:r.emptyRow},"Oopy daisy, our bunnies haven't hopped out to check ",c," yet. Hang tight!")));var f=a.a.createElement("a",{href:d,target:"_blank"},c);return a.a.createElement(b.H,{key:u},a.a.createElement(b.E,null,p,m),a.a.createElement(b.E,null,f),t,a.a.createElement(b.E,{align:"right"},a.a.createElement(b.h,{size:"small",color:"default","data-tracked-product-retailer-id":u,onClick:this.openRetailerMenu},a.a.createElement(w.n,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.product,n=e.loading,l=e.hasError;if(n)return this.renderLoading();if(l)return this.renderError();if(!r||!r.productRetailers||0===r.productRetailers.length)return this.renderEmptyContent();var o=r.enabled?xr:Rr;return a.a.createElement(b.u,{className:t.root},a.a.createElement(b.K,{variant:"h4",className:t.title},o,"  ",r.productName),a.a.createElement(b.C,null,a.a.createElement(b.G,null,a.a.createElement(b.H,null,a.a.createElement(b.E,null," "),a.a.createElement(b.E,null,"Retailer"),a.a.createElement(b.E,null,"Last Updated"),a.a.createElement(b.E,{align:"right"},"Price"),a.a.createElement(b.E,{align:"right"},"Last change"),a.a.createElement(b.E,null," "))),a.a.createElement(b.D,null,r.productRetailers.map(this.renderRetailer)),a.a.createElement(b.F,null,a.a.createElement(b.H,null,a.a.createElement(b.E,{colSpan:4},a.a.createElement(b.a,{size:"small",color:"primary"},a.a.createElement(w.c,null)," Add a new retailer"))))),this.renderMenu(),a.a.createElement(jr,null))}}]),t}(a.a.PureComponent);var Hr={openAddManual:nr.j,toggleProductRetailer:ar.h},Nr=Object(s.c)(function(e){return{loading:ir(e),deleting:cr(e),product:sr(e),hasError:ur(e),toggling:dr(e),toggleError:pr(e)}},Hr)(Object(g.withStyles)(function(e){return{root:babelHelpers.objectSpread({},e.mixins.gutters(),{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}),title:{margin:"20px"},product:babelHelpers.objectSpread({},e.mixins.gutters()),positive:{color:"#4caf50",verticalAlign:"bottom"},negative:{color:"#f44336",verticalAlign:"bottom"},emptyRow:{textAlign:"center"}}})(Sr)),Dr=r(38),Tr=r(523);Dr.d.register(Dr.c,Dr.i,Dr.k,Dr.h,Dr.o,Dr.p,Dr.f);var Ar={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Product ABCDA Price History"}},scales:{xAxes:[{title:"time",type:"time",gridLines:{lineWidth:2},time:{unit:"day",unitStepSize:1e3,parser:"MMM D YYYY",displayFormats:{millisecond:"MMM D YYYY",second:"MMM D YYYY",minute:"MMM D YYYY",hour:"MMM D YYYY",day:"MMM D YYYY",week:"MMM D YYYY",month:"MMM D YYYY",quarter:"MMM D YYYY",year:"MMM D YYYY"}}}]}},Ir=["Jan 5 2022","Jan 22 2022","Feb 2 2022","Mar 23 2022"],Fr=Ir.concat(["Jan 22 2022","Mar 7 2022","Mar 23 2022","Apr 9 2022"]);Fr.sort(function(e,t){return new Date(e)-new Date(t)});var Lr={labels:Fr,datasets:[{label:"Lowes",data:Ir.map(function(e,t){return 2===t?null:1558.59+t}),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Home Depot",data:Fr.map(function(e,t){return 1557.99+t}),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]},_r=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r.state={productId:null,menuAnchor:null,menuRetailerId:null,menuRetailerName:null,menuRetailerEnabled:!1},r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.classes;return console.log("shmoyoho",Fr.join(",")),a.a.createElement(b.u,{className:e.root},a.a.createElement(Tr.a,{options:Ar,data:Lr}),";")}}]),t}(a.a.PureComponent);var Br=Object(s.c)(function(){return{}},{})(Object(g.withStyles)(function(e){return{root:babelHelpers.objectSpread({},e.mixins.gutters(),{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}),title:{margin:"20px"},product:babelHelpers.objectSpread({},e.mixins.gutters()),positive:{color:"#4caf50",verticalAlign:"bottom"},negative:{color:"#f44336",verticalAlign:"bottom"},emptyRow:{textAlign:"center"}}})(_r)),zr={tab:0,trackedProductId:null},Ur=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e))).state=zr,i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,r=e.loadProductCurrent,n=t.params.trackedProductId;this.setState({trackedProductId:n}),r(n)}},{key:"changeTab",value:function(e,t){this.setState({tab:t})}},{key:"render",value:function(){var e=this.state,t=e.tab,r=e.trackedProductId,n=this.props.loadProductCurrent;return a.a.createElement(_,null,a.a.createElement(b.k,{container:!0,spacing:16},a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1}),a.a.createElement(b.k,{item:!0,xs:12,sm:12,md:12,lg:10},a.a.createElement(b.I,{value:t,onChange:this.changeTab,indicatorColor:"secondary",textColor:"secondary"},a.a.createElement(b.B,{icon:a.a.createElement(w.f,null),label:"Current"}),a.a.createElement(b.B,{icon:a.a.createElement(w.p,null),label:"Historical"})),0===t?a.a.createElement(Nr,{loadProductCurrent:n,trackedProductId:r}):a.a.createElement(Br,null)),a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1})))}}]),t}(a.a.PureComponent);var Kr={loadProductCurrent:ar.g},Yr=Object(s.c)(function(){return{}},Kr)(Ur),Vr=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.onClose,n=e.isValid;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9},a.a.createElement(b.a,{type:"button",variant:"outlined",onClick:r},"Cancel")),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!n},"Next",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.handleChange,n=e.handleBlur,l=e.values;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5"},"Add Product"),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Product Name")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Pick New Retailer")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Retailer Details")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.K,{variant:"h6",className:t.subText},"What is this product called?"),a.a.createElement(b.K,null,"This is mostly for you, so you remember what the prices are for (Names? Our bunnies don't need stinkin' names)"),a.a.createElement(b.K,null,"ex.: ",a.a.createElement("em",null,"LG Wash Tower WKE100HWA")),a.a.createElement(b.k,{container:!0},a.a.createElement(b.J,{id:"name",label:"Name",className:t.name,fullWidth:!0,value:l.name,onChange:r("name"),onBlur:n("name"),margin:"normal",autoComplete:"off",placeholder:"LG Wash Tower WKE100HWA",autoFocus:!0,error:this.hasError("name"),helperText:this.getErrorText("name")})),this.renderButtons())}}]),t}(a.a.PureComponent),qr=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:71*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},stepper:{paddingTop:"20px",paddingBottom:"20px"},name:{paddingBottom:"20px"}}})(Vr),Wr=function(e){return e.features.products.addProduct},Gr=(lr(Wr,"addOpen"),Object(p.a)(Wr,function(e){return!0===e.get("addOpen")&&1===e.get("addStage")})),Jr=Object(p.a)(Wr,function(e){return!0===e.get("addOpen")&&2===e.get("addStage")}),$r=Object(p.a)(Wr,function(e){return!0===e.get("addOpen")&&3===e.get("addStage")}),Xr=Object(p.a)(Wr,function(e){return!0===e.get("addOpen")&&4===e.get("addStage")}),Zr=lr(Wr,"loading"),Qr=lr(Wr,"loadError"),en=lr(Wr,"productRetailerOptions"),tn=lr(Wr,"productName"),rn=lr(Wr,"productRetailers"),nn=lr(Wr,"saving"),an=(lr(Wr,"saveError"),lr(Wr,"newProductId"),lr(Wr,"newProductRetailer")),ln=r(30),on=Ge.d({name:Ge.e().required("Product name is required").min(4,"Name must be at least 4 characters long").max(512,"Name cannot be longer than 512 characters")}),sn={name:""},cn=Ge.d({productRetailer:Ge.c().integer("Product retailer must be a whole number (why are you seeing this??)").required("You must pick a retailer from the list first"),otherRetailerDisplayName:Ge.e().when(["productRetailer"],{is:function(e){return 1001===parseInt(e,10)},then:Ge.e().required("You must give this retailer a custom display name").min(4,"Retailer name needs to be at least 4 letters long").max(512,"Retailer name can't have a name longer than 512 characters")})}),un={productRetailer:0,otherRetailerDisplayName:""},dn=Ge.d({scrapeUrl:Ge.e().required("You must provide a URL").url("You must provide a valid URL").max(512,"URL cannot be longer than 512 characters"),priceSelector:Ge.e().optional().min(2,"Selector must be at least 2 characters long").max(128,"Selector cannot be longer than 128 characters")}),pn={scrapeUrl:"",priceSelector:""},mn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeAddProduct;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.errors,l=e.handleBlur,o=e.handleChange,i=e.handleSubmit,s=e.setFieldValue,c=e.values,u=e.touched,d=e.isSubmitting,p=e.isValid;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(qr,{values:c,errors:n,touched:u,isSubmitting:d,isValid:p,setFieldValue:s,handleBlur:l,handleChange:o,handleSubmit:i,onClose:this.onClose}))}}]),t}(a.a.PureComponent);var hn={closeAddProduct:ln.l,openAddProduct2:ln.n},fn=Object(s.c)(function(e){return{open:Gr(e),loading:Zr(e),loadError:Qr(e)}},hn)(Object(We.a)({mapPropsToValues:function(){return sn},handleSubmit:function(e,t){var r=t.props,n=t.resetForm;(0,r.openAddProduct2)(e),n()},validationSchema:on})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(mn))),bn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"renderProductRetailerOptions",value:function(){return this.props.productRetailerOptions.map(function(e){return a.a.createElement(b.s,{key:e.value,value:e.value},e.label)})}},{key:"renderRetailerOtherName",value:function(){var e=this.props,t=e.values,r=e.handleChange,n=e.handleBlur,l=e.productRetailerOptions,o=e.classes,i=t.productRetailer,s=1001===i,c=s?"Other":l.filter(function(e){return parseInt(e.value,10)===i})[0].label;return s?a.a.createElement(a.a.Fragment,null,a.a.createElement(b.K,null,"No problem! In order to keep things straight (for you, again - the bunnies can't read!) ",a.a.createElement("strong",null,a.a.createElement("br",null),"Go ahead and provide a name for this retailer")," so you remember where the prices are coming from."),a.a.createElement(b.J,{id:"otherRetailerDisplayName",label:"Retailers Name",className:o.otherRetailerDisplayName,onChange:r("otherRetailerDisplayName"),onBlur:n("otherRetailerDisplayName"),margin:"normal",placeholder:"Bill's Appliance Barn",autoComplete:"off",error:this.hasError("otherRetailerDisplayName"),helperText:this.getErrorText("otherRetailerDisplayName")})):a.a.createElement(b.K,{className:o.standardRetailer},"We'll ask you for details about ",a.a.createElement("strong",null,c,"'s")," site next.")}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.isValid;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9}),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!r},"Next",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.handleChange,n=e.handleBlur,l=e.values,o=e.productName;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5",className:t.variableTitle},"Adding ",a.a.createElement("em",null,o)),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Product Name")),a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Pick New Retailer")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Retailer Details")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.K,{className:t.subText},"Let's add a retailer where our bunnies will hop to and check the price of ",o,":"),a.a.createElement(b.k,{container:!0},a.a.createElement(b.v,{className:t.productRetailer,value:l.productRetailer,onChange:r,onBlur:n,inputProps:{name:"productRetailer",id:"productRetailer"}},this.renderProductRetailerOptions()),l.productRetailer?this.renderRetailerOtherName():null),this.renderButtons())}}]),t}(a.a.PureComponent),gn=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:71*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},variableTitle:{overflowX:"hidden"},stepper:{paddingTop:"20px",paddingBottom:"20px"},productRetailer:{width:"50%",marginTop:"20px",marginBottom:"20px"},standardRetailer:{paddingTop:"20px",paddingBottom:"20px",height:"110px"},otherRetailerDisplayName:{width:"50%",marginBottom:"20px",marginTop:"10px"}}})(bn),En=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeAddProduct;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.errors,l=e.handleBlur,o=e.handleChange,i=e.handleSubmit,s=e.setFieldValue,c=e.values,u=e.touched,d=e.isSubmitting,p=e.isValid,m=e.productName,h=e.productRetailerOptions;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(gn,{productName:m,productRetailerOptions:h.toJS(),values:c,errors:n,touched:u,isSubmitting:d,isValid:p,setFieldValue:s,handleBlur:l,handleChange:o,handleSubmit:i,onClose:this.onClose}))}}]),t}(a.a.PureComponent);var yn={closeAddProduct:ln.l,openAddProduct3:ln.p},vn=Object(s.c)(function(e){return{open:Jr(e),loading:Zr(e),loadError:Qr(e),productName:tn(e),productRetailerOptions:en(e)}},yn)(Object(We.a)({mapPropsToValues:function(){return un},handleSubmit:function(e,t){var r=t.props,n=t.resetForm;(0,r.openAddProduct3)(e),n()},validationSchema:cn})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(En))),Cn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"hasError",value:function(e){var t=this.props,r=t.touched,n=t.errors;return Boolean(r[e])&&Boolean(n[e])}},{key:"getErrorText",value:function(e){var t=this.props,r=t.touched,n=t.errors;return r[e]?n[e]:null}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.isValid;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:9}),a.a.createElement(b.k,{item:!0,xs:2},a.a.createElement(b.a,{type:"submit",variant:"contained",color:"primary",onClick:t,disabled:!r},"Next",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.handleChange,n=e.handleBlur,l=e.productName,o=e.newProductRetailer.toJS(),i=o.isOtherRetailer,s=o.productRetailerDisplayName;return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5",className:t.variableTitle},s," Details"),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Product Name")),a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Pick New Retailer")),a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Retailer Details")),a.a.createElement(b.w,null,a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.K,{className:t.subText},"So our bunnies don't get confused, you need to provide the web URL where the price of ",a.a.createElement("em",null,l)," is listed at ",s,":"),a.a.createElement(b.k,{container:!0},a.a.createElement(b.J,{id:"scrapeUrl",label:"Product Price URL",className:t.scrapeUrl,onChange:r("scrapeUrl"),onBlur:n("scrapeUrl"),margin:"normal",placeholder:"https://billsappliancebarn.com/product-price-page",autoComplete:"off",error:this.hasError("scrapeUrl"),helperText:this.getErrorText("scrapeUrl")}),i?a.a.createElement(a.a.Fragment,null,a.a.createElement(b.K,{className:t.otherText},"Since ",s," isn't a retailer our bunnies are trained to hop to, we need you to tell us where on the page to get the product price, with a ",a.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors",target:"_blank"},"CSS Selector"),":"),a.a.createElement(b.J,{id:"priceSelector",label:"Price CSS Selector",className:t.priceSelector,onChange:r("priceSelector"),onBlur:n("priceSelector"),margin:"normal",placeholder:"div.price-box div.priceView-hero-price.priceView-customer-price",autoComplete:"off",error:this.hasError("priceSelector"),helperText:this.getErrorText("priceSelector")})):null),this.renderButtons())}}]),t}(a.a.PureComponent),kn=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:71*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},variableTitle:{overflowX:"hidden"},stepper:{paddingTop:"20px",paddingBottom:"20px"},priceSelector:{width:"50%",marginTop:"20px",marginBottom:"20px"},otherText:{paddingTop:"20px"},scrapeUrl:{width:"100%",marginBottom:"20px",marginTop:"10px"}}})(Cn),wn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClose",value:function(){var e=this.props,t=e.closeAddProduct;(0,e.resetForm)(),t()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.errors,l=e.handleBlur,o=e.handleChange,i=e.handleSubmit,s=e.setFieldValue,c=e.values,u=e.touched,d=e.isSubmitting,p=e.isValid,m=e.productName,h=e.newProductRetailer;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(kn,{productName:m,newProductRetailer:h,values:c,errors:n,touched:u,isSubmitting:d,isValid:p,setFieldValue:s,handleBlur:l,handleChange:o,handleSubmit:i,onClose:this.onClose}))}}]),t}(a.a.PureComponent);var Pn={closeAddProduct:ln.l,openAddProduct4:ln.q},On=Object(s.c)(function(e){return{open:$r(e),loading:Zr(e),loadError:Qr(e),productName:tn(e),newProductRetailer:an(e)}},Pn)(Object(We.a)({mapPropsToValues:function(){return pn},handleSubmit:function(e,t){var r=t.props,n=t.resetForm;(0,r.openAddProduct4)(e),n()},validationSchema:dn})(Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(wn))),jn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderRetailer",value:function(e,t){return a.a.createElement(b.K,{key:t,className:this.props.classes.retailerItem},e.productRetailerDisplayName)}},{key:"renderRetailersList",value:function(){var e=this.props,t=e.classes,r=e.productRetailers;return a.a.createElement(b.k,{container:!0,className:t.retailerContainer},r.map(this.renderRetailer))}},{key:"renderButtons",value:function(){var e=this.props,t=e.handleSubmit,r=e.classes,n=e.onAddAnotherRetailer;return a.a.createElement(b.k,{container:!0},a.a.createElement(b.k,{item:!0,xs:7},a.a.createElement(b.a,{className:r.addRetailerButton,type:"button",variant:"contained",color:"secondary",onClick:n},"+ Add Retailer")),a.a.createElement(b.k,{item:!0,xs:5},a.a.createElement(b.a,{type:"button",variant:"contained",color:"primary",className:r.submitButton,onClick:t},"Save Product",a.a.createElement(w.o,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.productName,n=e.productRetailers,l=1===n.length?"this 1 retailer":"these ".concat(n.length," retailers");return a.a.createElement("form",{className:t.paper},a.a.createElement(b.K,{variant:"h5",className:t.variableTitle},"Review: ",r),a.a.createElement(b.z,{className:t.stepper},a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Product Name")),a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Pick New Retailer")),a.a.createElement(b.w,{completed:!0},a.a.createElement(b.y,null,"Retailer Details")),a.a.createElement(b.w,{active:!0},a.a.createElement(b.y,null,"Review"))),a.a.createElement(b.K,{className:t.subText},"Splendid! Looks like you've given our bunnies all they need to do some price hoppin' on your behalf."),a.a.createElement(b.K,null,"Look over this list of ",l,' to make sure it looks good (or click "Add Retailer" below!)'),this.renderRetailersList(),this.renderButtons())}}]),t}(a.a.PureComponent),xn=Object(g.withStyles)(function(e){return{paper:{margin:"auto",transform:"translate(0 30%)",width:71*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none",overflowY:"scroll"},variableTitle:{overflowX:"hidden"},stepper:{paddingTop:"20px",paddingBottom:"20px"},retailerContainer:{display:"flex",marginTop:"20px",marginBottom:"20px",justifyContent:"center"},retailerItem:{width:"45%",textAlign:"center",fontSize:"0.9rem",fontWeight:"500",alignSelf:"center",color:"white",backgroundColor:e.palette.primary.main,height:"28px",borderRadius:"14px",marginLeft:"5px",marginRight:"5px",marginBottom:"10px",paddingTop:"7px"},addRetailerButton:{},submitButton:{display:"flex",marginLeft:"auto"}}})(jn),Rn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onAddAnotherRetailer",value:function(){this.props.openAddProduct2NewRetailer()}},{key:"onClose",value:function(){this.props.closeAddProduct()}},{key:"handleSubmit",value:function(){var e=this.props,t=e.saveProduct,r=e.productName,n=e.productRetailers;t({name:r,productRetailers:n.toJS()},function(){me.a.success("Success! ".concat(r," was saved!"))})}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.saving,l=e.productName,o=e.productRetailers;return a.a.createElement(b.t,{open:r,onClose:this.onClose,className:t.modal},a.a.createElement(a.a.Fragment,null,a.a.createElement(xn,{productName:l,productRetailers:o.toJS(),handleSubmit:this.handleSubmit,onAddAnotherRetailer:this.onAddAnotherRetailer,onClose:this.onClose}),a.a.createElement(C,{open:n,message:"Saving product..."})))}}]),t}(a.a.PureComponent);var Mn={closeAddProduct:ln.l,openAddProduct2NewRetailer:ln.o,saveProduct:ln.r},Sn=Object(g.withStyles)(function(){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})(Object(s.c)(function(e){return{open:Xr(e),loading:Zr(e),loadError:Qr(e),productName:tn(e),productRetailers:rn(e),saving:nn(e)}},Mn)(Rn)),Hn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return a.a.createElement(_,null,a.a.createElement(b.k,{container:!0,spacing:16},a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1}),a.a.createElement(b.k,{item:!0,xs:12,sm:12,md:12,lg:10},a.a.createElement(qn,null)),a.a.createElement(b.k,{item:!0,xs:!1,sm:!1,md:!1,lg:1})),a.a.createElement(fn,null),a.a.createElement(vn,null),a.a.createElement(On,null),a.a.createElement(Sn,null))}}]),t}(a.a.PureComponent);var Nn=Object(s.c)(function(){return{}},{})(Hn),Dn=r(61),Tn=function(e){return e.features.products.productsTable},An=lr(Tn,"loading"),In=lr(Tn,"products"),Fn=lr(Tn,"deleting"),Ln=lr(Tn,"hasError"),_n=lr(Tn,"toggling"),Bn=lr(Tn,"toggleError"),zn=a.a.createElement(w.h,{color:"primary"}),Un=a.a.createElement(w.j,{color:"disabled"}),Kn=a.a.createElement(w.m,{color:"error"}),Yn=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),i()(babelHelpers.assertThisInitialized(r)),r.state={productId:null,menuAnchor:null,menuProductId:null,menuProductEnabled:!1},r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"openProductMenu",value:function(e){var t=Object(k.b)(e,"data-tracked-product-id"),r=this.props.products,n=r?r.filter(function(e){return e.id==t})[0]:null;this.setState({menuAnchor:e.currentTarget,menuProductId:t,menuProductEnabled:n&&n.enabled})}},{key:"closeProductMenu",value:function(){this.setState({menuAnchor:null,menuProductId:null})}},{key:"componentDidMount",value:function(){this.props.loadProducts()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.toggling,n=t.toggleError,a=t.loadProducts;r||r==e.toggling||n||a()}},{key:"handleAddClick",value:function(){this.props.openAddProduct()}},{key:"handleProductToggle",value:function(){var e=this.state,t=e.menuProductId,r=e.menuProductEnabled;this.props.toggleProduct(t,!r),this.closeProductMenu()}},{key:"renderLoading",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.g,null),a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Loading..."))}},{key:"renderProductPrice",value:function(e){var t=this.props.classes,r=e.lowPriceRetailerName,n=e.price,l=e.priceLastUpdated,o=e.amountChange,i=e.percentChange,s=a.a.createElement(a.a.Fragment,null,"—"),c=n?a.a.createElement(b.K,{variant:"caption",className:t.lowestPriceRetailer},"@ ".concat(r," on ").concat(W()(l||"12/12/1900").format("MMMM Do YYYY"))):null;return null!==l?a.a.createElement(a.a.Fragment,null,a.a.createElement(b.K,{variant:"subheading",color:"primary",className:t.lowestPrice},n?Object(k.a)(n):s),a.a.createElement(O,{amountChange:o,percentChange:i,variant:"",className:t.lowestPriceChange}),c):s}},{key:"renderEmptyContent",value:function(){var e=this.props.classes;return a.a.createElement(b.b,{className:e.card},a.a.createElement(b.d,null,a.a.createElement(b.K,{variant:"h5",component:"h2",className:this.props.paddedTypography},"You have no tracked products!"),a.a.createElement(b.K,{component:"p"},"Get started by clicking below!")),a.a.createElement(b.c,null,a.a.createElement(b.a,{size:"small",onClick:this.handleAddClick},"Add one now!")))}},{key:"renderError",value:function(){return a.a.createElement(b.u,null,a.a.createElement(b.K,{variant:"h5",className:this.props.paddedTypography},"Whoops we can't load your products..."))}},{key:"renderMenu",value:function(){var e=this.state,t=e.menuAnchor,r=e.menuProductId,n=e.menuProductEnabled,l=Boolean(t&&r);return a.a.createElement(b.r,{id:"product-menu",anchorEl:t,open:l,onClose:this.closeProductMenu,PaperProps:{style:{maxHeight:216,width:225}}},a.a.createElement(b.s,{onClick:this.handleProductToggle},a.a.createElement(b.p,null,n?a.a.createElement(w.q,null):a.a.createElement(w.r,null)),a.a.createElement(b.q,{inset:!0,primary:n?"Disable":"Enable"})),a.a.createElement(b.s,{disabled:!0},a.a.createElement(b.p,null,a.a.createElement(w.l,null)),a.a.createElement(b.q,{inset:!0,primary:"Edit"})),a.a.createElement(b.s,{disabled:!0},a.a.createElement(b.p,null,a.a.createElement(w.k,null)),a.a.createElement(b.q,{inset:!0,primary:"Delete"})))}},{key:"renderProduct",value:function(e){var t=e.enabled?zn:Un,r=e.hasScrapingExceptions?Kn:null,n="/products/".concat(e.id,"/display");return a.a.createElement(b.H,{key:e.id},a.a.createElement(b.E,{padding:"checkbox"},t,r),a.a.createElement(b.E,null,a.a.createElement(T.a,{to:n},e.name)),a.a.createElement(b.E,null,this.renderProductPrice(e)),a.a.createElement(b.E,{padding:"checkbox",align:"right"},a.a.createElement(b.h,{size:"small",color:"default","data-tracked-product-id":e.id,onClick:this.openProductMenu},a.a.createElement(w.n,null))))}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.products,n=e.loading,l=e.loadingAdd,o=e.hasError;return n?this.renderLoading():o?this.renderError():0===r.length?this.renderEmptyContent():a.a.createElement(b.u,{className:t.root},a.a.createElement(b.C,null,a.a.createElement(b.G,null,a.a.createElement(b.H,null,a.a.createElement(b.E,{padding:"checkbox",variant:"head"}," "),a.a.createElement(b.E,{variant:"head"},"Product Name"),a.a.createElement(b.E,{variant:"head"},"Lowest Price"),a.a.createElement(b.E,{padding:"checkbox",variant:"head"}," "))),a.a.createElement(b.D,null,r.map(this.renderProduct)),a.a.createElement(b.F,null,a.a.createElement(b.H,null,a.a.createElement(b.E,{colSpan:4},a.a.createElement(b.a,{size:"small",color:"primary",onClick:this.handleAddClick},a.a.createElement(w.b,null)," Add a new product"))))),this.renderMenu(),a.a.createElement(C,{open:l,message:"Loading retailers, one sec..."}))}}]),t}(a.a.PureComponent);var Vn={loadProducts:Dn.g,openAddProduct:ln.m,toggleProduct:Dn.h},qn=Object(s.c)(function(e){return{loading:An(e),loadingAdd:Zr(e),deleting:Fn(e),products:In(e),hasError:Ln(e),toggling:_n(e),toggleError:Bn(e)}},Vn)(Object(g.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},lowestPrice:{display:"inline-block"},lowestPriceChange:{display:"inline-block",marginLeft:"10px"}}})(Yn)),Wn=function(){return a.a.createElement(x.a,null,a.a.createElement(R.a,{exact:!0,path:"/",component:rr}),a.a.createElement(R.a,{path:"/load-identity",component:Mt}),a.a.createElement(R.a,{path:"/signin",component:tr}),a.a.createElement(R.a,{path:"/logout",component:Ht}),a.a.createElement(f,{path:"/utilitiesDashboard",component:jt}),a.a.createElement(f,{path:"/alerts/:alertId/display",component:$}),a.a.createElement(f,{path:"/productsDashboard",component:Nn}),a.a.createElement(f,{path:"/products/:trackedProductId/display",component:Yr}),a.a.createElement(R.a,{component:j}))};t.a=Object(l.a)(function(){return a.a.createElement(Wn,null)})},53:function(e,t,r){"use strict";function n(e,t){return e&&e.currentTarget?e.currentTarget.getAttribute(t):null}function a(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a})},54:function(e,t,r){"use strict";var n=r(12),a="LOAD_PRODUCT_CURRENT",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED"),i="".concat(a,"_REJECTED");function s(e){return{type:a,payload:Object(n.get)("products/current/".concat(e))}}var c="TOGGLE_PRODUCT_RETAILER",u="".concat(c,"_PENDING"),d="".concat(c,"_FULFILLED"),p="".concat(c,"_REJECTED");function m(e,t){return{type:c,payload:Object(n.put)("products/retailers/".concat(e,"/toggle"),{trackedProductRetailerId:e,enabled:t})}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"g",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"h",function(){return m})},5771:function(e,t,r){e.exports=r(6240)},5772:function(e,t,r){},5773:function(e,t,r){(function(e){!function(e){var t,r=e.babelHelpers={};function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?r.typeof=n=function(e){return typeof e}:r.typeof=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t,n;function a(t,n){try{var o=e[t](n),i=o.value,s=i instanceof r.AwaitValue;Promise.resolve(s?i.wrapped:i).then(function(e){s?a("next",e):l(o.done?"return":"normal",e)},function(e){a("throw",e)})}catch(e){l("throw",e)}}function l(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(l,o){var i={key:e,arg:r,resolve:l,reject:o,next:null};n?n=n.next=i:(t=n=i,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function l(e,t,r,n,a,l,o){try{var i=e[l](o),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,a)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){return r.extends=i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function s(e){return r.getPrototypeOf=s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return r.setPrototypeOf=c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t,n){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?r.construct=u=function(e,t,n){var a=[null];a.push.apply(a,t);var l=new(Function.bind.apply(e,a));return n&&r.setPrototypeOf(l,n.prototype),l}:r.construct=u=Reflect.construct,u.apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return r.wrapNativeSuper=d=function(e){if(null===e||!r.isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return r.construct(e,arguments,r.getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r.setPrototypeOf(n,e)},d(e)}function p(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.get=p=Reflect.get:r.get=p=function(e,t,n){var a=r.superPropBase(e,t);if(a){var l=Object.getOwnPropertyDescriptor(a,t);return l.get?l.get.call(n):l.value}},p(e,t,n||e)}function m(e,t,n,a){return(m="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,a){var l,o=r.superPropBase(e,t);if(o){if((l=Object.getOwnPropertyDescriptor(o,t)).set)return l.set.call(a,n),!0;if(!l.writable)return!1}if(l=Object.getOwnPropertyDescriptor(a,t)){if(!l.writable)return!1;l.value=n,Object.defineProperty(a,t,l)}else r.defineProperty(a,t,n);return!0})(e,t,n,a)}r.typeof=n,r.jsx=function(e,r,n,a){t||(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;if(r||0===o||(r={children:void 0}),r&&l)for(var i in l)void 0===r[i]&&(r[i]=l[i]);else r||(r=l||{});if(1===o)r.children=a;else if(o>1){for(var s=new Array(o),c=0;c<o;c++)s[c]=arguments[c+3];r.children=s}return{$$typeof:t,type:e,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}},r.asyncIterator=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")},r.AwaitValue=function(e){this.wrapped=e},"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)},r.AsyncGenerator=a,r.wrapAsyncGenerator=function(e){return function(){return new r.AsyncGenerator(e.apply(this,arguments))}},r.awaitAsyncGenerator=function(e){return new r.AwaitValue(e)},r.asyncGeneratorDelegate=function(e,t){var r={},n=!1;function a(r,a){return n=!0,a=new Promise(function(t){t(e[r](a))}),{done:!1,value:t(a)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return a("return",e)}),r},r.asyncToGenerator=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,s,"next",e)}function s(e){l(o,n,a,i,s,"throw",e)}i(void 0)})}},r.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.createClass=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e},r.defineEnumerableProperties=function(e,t){for(var r in t)(l=t[r]).configurable=l.enumerable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,r,l);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),a=0;a<n.length;a++){var l,o=n[a];(l=t[o]).configurable=l.enumerable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,o,l)}return e},r.defaults=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],l=Object.getOwnPropertyDescriptor(t,a);l&&l.configurable&&void 0===e[a]&&Object.defineProperty(e,a,l)}return e},r.defineProperty=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},r.extends=i,r.objectSpread=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r.defineProperty(e,t,n[t])})}return e},r.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r.setPrototypeOf(e,t)},r.inheritsLoose=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},r.getPrototypeOf=s,r.setPrototypeOf=c,r.construct=u,r.isNativeFunction=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},r.wrapNativeSuper=d,r.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},r.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},r.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t},r.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},r.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},r.objectWithoutPropertiesLoose=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a},r.objectWithoutProperties=function(e,t){if(null==e)return{};var n,a,l=r.objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l},r.assertThisInitialized=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},r.possibleConstructorReturn=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?r.assertThisInitialized(e):t},r.superPropBase=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r.getPrototypeOf(e)););return e},r.get=p,r.set=function(e,t,r,n,a){if(!m(e,t,r,n||e)&&a)throw new Error("failed to set property");return r},r.taggedTemplateLiteral=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},r.taggedTemplateLiteralLoose=function(e,t){return t||(t=e.slice(0)),e.raw=t,e},r.temporalRef=function(e,t){if(e===r.temporalUndefined)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},r.readOnlyError=function(e){throw new Error('"'+e+'" is read-only')},r.classNameTDZError=function(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')},r.temporalUndefined={},r.slicedToArray=function(e,t){return r.arrayWithHoles(e)||r.iterableToArrayLimit(e,t)||r.nonIterableRest()},r.slicedToArrayLoose=function(e,t){return r.arrayWithHoles(e)||r.iterableToArrayLimitLoose(e,t)||r.nonIterableRest()},r.toArray=function(e){return r.arrayWithHoles(e)||r.iterableToArray(e)||r.nonIterableRest()},r.toConsumableArray=function(e){return r.arrayWithoutHoles(e)||r.iterableToArray(e)||r.nonIterableSpread()},r.arrayWithoutHoles=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}},r.arrayWithHoles=function(e){if(Array.isArray(e))return e},r.iterableToArray=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)},r.iterableToArrayLimit=function(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r},r.iterableToArrayLimitLoose=function(e,t){for(var r,n=[],a=e[Symbol.iterator]();!(r=a.next()).done&&(n.push(r.value),!t||n.length!==t););return n},r.nonIterableSpread=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},r.nonIterableRest=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},r.skipFirstGeneratorNext=function(e){return function(){var t=e.apply(this,arguments);return t.next(),t}},r.toPrimitive=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},r.toPropertyKey=function(e){var t=r.toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)},r.initializerWarningHelper=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")},r.initializerDefineProperty=function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},r.applyDecoratedDescriptor=function(e,t,r,n,a){var l={};return Object.keys(n).forEach(function(e){l[e]=n[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l};var h=0;function f(e){var t,n=r.toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var a={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(a.decorators=e.decorators),"field"===e.kind&&(a.initializer=e.value),a}function b(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function g(e){return e.decorators&&e.decorators.length}function E(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function y(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function v(e,t){r.wrapRegExp=v=function(e,t){return new o(e,t)};var n=r.wrapNativeSuper(RegExp),a=RegExp.prototype,l=new WeakMap;function o(e,t){var r=n.call(this,e);return l.set(r,t),r}function i(e,r){var n=l.get(r);return Object.keys(t).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return r.inherits(o,n),o.prototype.exec=function(e){var t=a.exec.call(this,e);return t&&(t.groups=i(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=l.get(this);return a[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof t){var n=this;return a[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(i(e,n)),t.apply(this,e)})}return a[Symbol.replace].call(this,e,t)},v.apply(this,arguments)}r.classPrivateFieldLooseKey=function(e){return"__private_"+h+++"_"+e},r.classPrivateFieldLooseBase=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e},r.classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");var r=t.get(e);return r.get?r.get.call(e):r.value},r.classPrivateFieldSet=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");var n=t.get(e);if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r},r.classStaticPrivateFieldSpecGet=function(e,t,r){if(e!==t)throw new TypeError("Private static access of wrong provenance");return r.value},r.classStaticPrivateFieldSpecSet=function(e,t,r,n){if(e!==t)throw new TypeError("Private static access of wrong provenance");if(!r.writable)throw new TypeError("attempted to set read only private field");return r.value=n,n},r.decorate=function(e,t,n,a){var l=function(){var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(r){t.forEach(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach(function(n){t.forEach(function(t){var a=t.placement;if(t.kind===n&&("static"===a||"prototype"===a)){var l="static"===a?e:r;this.defineClassElement(l,t)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],a={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,a)},this),e.forEach(function(e){if(!g(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)},this),!t)return{elements:r,finishers:n};var l=this.decorateConstructor(r,t);return n.push.apply(n,l.finishers),l.finishers=n,l},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],a=e.decorators,l=a.length-1;l>=0;l--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var i=this.fromElementDescriptor(e),s=this.toElementFinisherExtras((0,a[l])(i)||i);e=s.element,this.addElementPlacement(e,t),s.finisher&&n.push(s.finisher);var c=s.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var a=this.fromClassDescriptor(e),l=this.toClassDescriptor((0,t[n])(a)||a);if(void 0!==l.finisher&&r.push(l.finisher),void 0!==l.elements){e=l.elements;for(var o=0;o<e.length-1;o++)for(var i=o+1;i<e.length;i++)if(e[o].key===e[i].key&&e[o].placement===e[i].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return r.toArray(e).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=r.toPropertyKey(e.key),a=String(e.placement);if("static"!==a&&"prototype"!==a&&"own"!==a)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+a+'"');var l=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:a,descriptor:Object.assign({},l)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(l,"get","The property descriptor of a field descriptor"),this.disallowProperty(l,"set","The property descriptor of a field descriptor"),this.disallowProperty(l,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),r=y(e,"finisher"),n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=y(e,"finisher"),n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}();if(a)for(var o=0;o<a.length;o++)l=a[o](l);var i=t(function(e){l.initializeInstanceElements(e,s.elements)},n),s=l.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===l.key&&e.placement===l.placement},n=0;n<e.length;n++){var a,l=e[n];if("method"===l.kind&&(a=t.find(r)))if(E(l.descriptor)||E(a.descriptor)){if(g(l)||g(a))throw new ReferenceError("Duplicated methods ("+l.key+") can't be decorated.");a.descriptor=l.descriptor}else{if(g(l)){if(g(a))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+l.key+").");a.decorators=l.decorators}b(l,a)}else t.push(l)}return t}(i.d.map(f)),e);return l.initializeClassElements(i.F,s.elements),l.runClassFinishers(i.F,s.finishers)},r.classPrivateMethodGet=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r},r.classPrivateMethodSet=function(){throw new TypeError("attempted to reassign private method")},r.wrapRegExp=v}(void 0===e?self:e)}).call(this,r(70))},61:function(e,t,r){"use strict";var n=r(12),a="LOAD_PRODUCTS",l="".concat(a,"_PENDING"),o="".concat(a,"_FULFILLED"),i="".concat(a,"_REJECTED");function s(){return{type:a,payload:Object(n.get)("products/list")}}var c="TOGGLE_PRODUCT",u="".concat(c,"_PENDING"),d="".concat(c,"_FULFILLED"),p="".concat(c,"_REJECTED");function m(e,t){return{type:c,payload:Object(n.put)("products/".concat(e,"/toggle"),{trackedProductId:e,enabled:t})}}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"g",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"h",function(){return m})},6126:function(e,t,r){var n={"./af":364,"./af.js":364,"./ar":365,"./ar-dz":366,"./ar-dz.js":366,"./ar-kw":367,"./ar-kw.js":367,"./ar-ly":368,"./ar-ly.js":368,"./ar-ma":369,"./ar-ma.js":369,"./ar-sa":370,"./ar-sa.js":370,"./ar-tn":371,"./ar-tn.js":371,"./ar.js":365,"./az":372,"./az.js":372,"./be":373,"./be.js":373,"./bg":374,"./bg.js":374,"./bm":375,"./bm.js":375,"./bn":376,"./bn.js":376,"./bo":377,"./bo.js":377,"./br":378,"./br.js":378,"./bs":379,"./bs.js":379,"./ca":380,"./ca.js":380,"./cs":381,"./cs.js":381,"./cv":382,"./cv.js":382,"./cy":383,"./cy.js":383,"./da":384,"./da.js":384,"./de":385,"./de-at":386,"./de-at.js":386,"./de-ch":387,"./de-ch.js":387,"./de.js":385,"./dv":388,"./dv.js":388,"./el":389,"./el.js":389,"./en-SG":390,"./en-SG.js":390,"./en-au":391,"./en-au.js":391,"./en-ca":392,"./en-ca.js":392,"./en-gb":393,"./en-gb.js":393,"./en-ie":394,"./en-ie.js":394,"./en-il":395,"./en-il.js":395,"./en-nz":396,"./en-nz.js":396,"./eo":397,"./eo.js":397,"./es":398,"./es-do":399,"./es-do.js":399,"./es-us":400,"./es-us.js":400,"./es.js":398,"./et":401,"./et.js":401,"./eu":402,"./eu.js":402,"./fa":403,"./fa.js":403,"./fi":404,"./fi.js":404,"./fo":405,"./fo.js":405,"./fr":406,"./fr-ca":407,"./fr-ca.js":407,"./fr-ch":408,"./fr-ch.js":408,"./fr.js":406,"./fy":409,"./fy.js":409,"./ga":410,"./ga.js":410,"./gd":411,"./gd.js":411,"./gl":412,"./gl.js":412,"./gom-latn":413,"./gom-latn.js":413,"./gu":414,"./gu.js":414,"./he":415,"./he.js":415,"./hi":416,"./hi.js":416,"./hr":417,"./hr.js":417,"./hu":418,"./hu.js":418,"./hy-am":419,"./hy-am.js":419,"./id":420,"./id.js":420,"./is":421,"./is.js":421,"./it":422,"./it-ch":423,"./it-ch.js":423,"./it.js":422,"./ja":424,"./ja.js":424,"./jv":425,"./jv.js":425,"./ka":426,"./ka.js":426,"./kk":427,"./kk.js":427,"./km":428,"./km.js":428,"./kn":429,"./kn.js":429,"./ko":430,"./ko.js":430,"./ku":431,"./ku.js":431,"./ky":432,"./ky.js":432,"./lb":433,"./lb.js":433,"./lo":434,"./lo.js":434,"./lt":435,"./lt.js":435,"./lv":436,"./lv.js":436,"./me":437,"./me.js":437,"./mi":438,"./mi.js":438,"./mk":439,"./mk.js":439,"./ml":440,"./ml.js":440,"./mn":441,"./mn.js":441,"./mr":442,"./mr.js":442,"./ms":443,"./ms-my":444,"./ms-my.js":444,"./ms.js":443,"./mt":445,"./mt.js":445,"./my":446,"./my.js":446,"./nb":447,"./nb.js":447,"./ne":448,"./ne.js":448,"./nl":449,"./nl-be":450,"./nl-be.js":450,"./nl.js":449,"./nn":451,"./nn.js":451,"./pa-in":452,"./pa-in.js":452,"./pl":453,"./pl.js":453,"./pt":454,"./pt-br":455,"./pt-br.js":455,"./pt.js":454,"./ro":456,"./ro.js":456,"./ru":457,"./ru.js":457,"./sd":458,"./sd.js":458,"./se":459,"./se.js":459,"./si":460,"./si.js":460,"./sk":461,"./sk.js":461,"./sl":462,"./sl.js":462,"./sq":463,"./sq.js":463,"./sr":464,"./sr-cyrl":465,"./sr-cyrl.js":465,"./sr.js":464,"./ss":466,"./ss.js":466,"./sv":467,"./sv.js":467,"./sw":468,"./sw.js":468,"./ta":469,"./ta.js":469,"./te":470,"./te.js":470,"./tet":471,"./tet.js":471,"./tg":472,"./tg.js":472,"./th":473,"./th.js":473,"./tl-ph":474,"./tl-ph.js":474,"./tlh":475,"./tlh.js":475,"./tr":476,"./tr.js":476,"./tzl":477,"./tzl.js":477,"./tzm":478,"./tzm-latn":479,"./tzm-latn.js":479,"./tzm.js":478,"./ug-cn":480,"./ug-cn.js":480,"./uk":481,"./uk.js":481,"./ur":482,"./ur.js":482,"./uz":483,"./uz-latn":484,"./uz-latn.js":484,"./uz.js":483,"./vi":485,"./vi.js":485,"./x-pseudo":486,"./x-pseudo.js":486,"./yo":487,"./yo.js":487,"./zh-cn":488,"./zh-cn.js":488,"./zh-hk":489,"./zh-hk.js":489,"./zh-tw":490,"./zh-tw.js":490};function a(e){var t=l(e);return r(t)}function l(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=l,e.exports=a,a.id=6126},6240:function(e,t,r){"use strict";r.r(t);r(5772),r(5773);var n,a=r(0),l=r.n(a),o=r(46),i=r(513),s=r.n(i),c=r(514),u=r(12),d={baseURL:"/api/",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}},p=r(525),m=r(526),h=r(527),f=r.n(h),b=r(42),g=r(99),E=r(512),y=r(79),v=r(167),C=r(18),k=Object(C.c)({email:"",authenticated:!1,firstName:"",lastName:""});function w(e){var t=e.data,r=t.userIdentityModel||t;return r.roles=Object(C.d)(r.roles),new k(r).set("authenticated",!0)}var P,O,j,x,R,M,S,H,N,D,T,A,I=new k,F=Object(u.stateReducer)(I,(n={},babelHelpers.defineProperty(n,y.a,function(e,t){return w(t)}),babelHelpers.defineProperty(n,v.a,function(e,t){return w(t)}),babelHelpers.defineProperty(n,y.b,function(){return I}),n)),L=r(117),_=new C.b({submitting:!1,validationErrors:new C.b}),B=Object(u.stateReducer)(_,(P={},babelHelpers.defineProperty(P,L.b,function(e){return e.set("submitting",!0)}),babelHelpers.defineProperty(P,L.a,function(){return _}),babelHelpers.defineProperty(P,L.c,function(e,t){return e.withMutations(function(e){e.set("submitting",!1);var r=t.response||{},n=r.status,a=r.data;e.set("validationErrors",400===n?Object(C.e)(a):Object(C.b)())})}),P)),z=Object(b.combineReducers)({currentUser:F,signin:B}),U=r(116),K=Object(C.c)({id:null,name:"",utilityState:"",utilityType:"",loaderIdentifier:"",matchesCount:0,lastEdited:null}),Y=Object(C.c)({name:"",value:""}),V=Object(C.c)({utilityState:"",utilityType:"",name:"",priceUnit:"",pricePerUnit:null,flatRate:null,priceStructure:"",hasCancellationFee:null,cancellationFee:"",hasMonthlyFee:null,monthlyFee:"",hasEnrollmentFee:null,enrollmentFee:"",hasNetMetering:null,netMetering:"",requiresDeposit:null,hasBulkDiscounts:null,isIntroductoryPrice:null,hasRenewable:null,renewablePercentage:null,termMonthLength:null,supplierPhone:"",hasTermEndDate:null,termEndDate:null,offerId:"",offerUrl:""}),q=(r(53),r(47)),W=r.n(q),G=function(e,t){var r=Object(C.a)().asMutable(),n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;r.push(new t(s))}}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r.asImmutable()},J=new C.b({loading:!1,alert:new K,parameters:Object(C.a)(),prices:Object(C.a)(),hasError:!1}),$=Object(u.stateReducer)(J,(O={},babelHelpers.defineProperty(O,U.b,function(){return J.set("loading",!0)}),babelHelpers.defineProperty(O,U.c,function(e){return e.withMutations(function(e){e.set("loading",!1),e.set("hasError",!0)})}),babelHelpers.defineProperty(O,U.a,function(e,t){return e.withMutations(function(e){var r=t.data;e.set("loading",!1),e.set("alert",new K(r)),e.set("parameters",G(r.parameters,Y)),e.set("prices",G(r.prices,V))})}),O)),X=r(49),Z=new C.b({loading:!1,deleting:!1,alerts:[],hasError:!1}),Q=Object(u.stateReducer)(Z,(j={},babelHelpers.defineProperty(j,X.e,function(){return Z.set("loading",!0)}),babelHelpers.defineProperty(j,X.f,function(e){return e.withMutations(function(e){e.set("loading",!1),e.set("hasError",!0)})}),babelHelpers.defineProperty(j,X.d,function(e,t){return e.withMutations(function(e){e.set("loading",!1),e.set("alerts",t.data)})}),babelHelpers.defineProperty(j,X.b,function(e){return e.set("deleting",!0)}),babelHelpers.defineProperty(j,X.a,function(e){return e.set("deleting",!1)}),babelHelpers.defineProperty(j,X.c,function(e){return e.set("deleting",!1)}),j)),ee=Object(b.combineReducers)({alertDisplay:$,alertsTable:Q}),te=r(50),re=Object(C.c)({trackedProductRetailerId:null,price:null,priceDate:null}),ne=Object(C.c)({id:null,productRetailer:null,productRetailerDisplayName:null,isOtherRetailer:!1,otherRetailerDisplayName:null,scrapeUrl:null,priceSelector:null}),ae=new C.b({addManualOpen:!1,trackedProductId:null,trackedProductRetailerId:null,loading:!1,dateChecking:!1,dateCheck:null,manualModel:new re,saving:!1,saveError:null}),le=Object(u.stateReducer)(ae,(x={},babelHelpers.defineProperty(x,te.d,function(e,t){return e.withMutations(function(e){var r=t.trackedProductId,n=t.trackedProductRetailerId;e.set("trackedProductId",r),e.set("trackedProductRetailerId",n),e.set("addManualOpen",!0)})}),babelHelpers.defineProperty(x,te.b,function(e){return e.set("dateChecking",!0)}),babelHelpers.defineProperty(x,te.a,function(e,t){return e.withMutations(function(e){var r=Boolean(t.data);e.set("dateChecking",!1),e.set("dateCheck",r)})}),babelHelpers.defineProperty(x,te.f,function(e){return e.set("saving",!0)}),babelHelpers.defineProperty(x,te.g,function(e,t){return e.withMutations(function(e){var r=t.response;console.log("Error:",r.data),e.set("saveError",r.data),e.set("saving",!1)})}),babelHelpers.defineProperty(x,te.e,function(e){return e.set("saving",!1)}),babelHelpers.defineProperty(x,te.c,function(){return ae}),x)),oe=r(30),ie=new C.b({addOpen:!1,addStage:1,loading:!1,loadError:null,productRetailerOptions:new C.a,productName:null,productRetailers:new C.a,newProductRetailer:new ne,saving:!1,saveError:null,newProductId:null}),se=Object(u.stateReducer)(ie,(R={},babelHelpers.defineProperty(R,oe.g,function(e){return e.withMutations(function(e){e.set("newProductId",null),e.set("loading",!0),e.set("loadError",null)})}),babelHelpers.defineProperty(R,oe.h,function(e){return e.withMutations(function(e){e.set("loading",!1),e.set("loadError","Loading create product failed... sorry?")})}),babelHelpers.defineProperty(R,oe.f,function(e,t){return e.withMutations(function(e){var r=t.data.retailers;e.set("loading",!1),e.set("addOpen",!0),e.set("addStage",1),e.set("productName",null),e.set("productRetailers",new C.a),e.set("productRetailerOptions",Object(C.e)(r))})}),babelHelpers.defineProperty(R,oe.b,function(e,t){return e.withMutations(function(e){var r=(t||{}).name;r&&e.set("productName",r),e.set("addStage",2)})}),babelHelpers.defineProperty(R,oe.c,function(e){return e.withMutations(function(e){e.set("addStage",2),e.set("newProductRetailer",new ne)})}),babelHelpers.defineProperty(R,oe.d,function(e,t){return e.withMutations(function(e){var r=t.productRetailer,n=t.otherRetailerDisplayName,a=e.get("productRetailerOptions").toJS(),l=1001===r,o=l?n:a.filter(function(e){return parseInt(e.value)===r})[0].label;e.setIn(["newProductRetailer","productRetailer"],r),e.setIn(["newProductRetailer","isOtherRetailer"],l),e.setIn(["newProductRetailer","otherRetailerDisplayName"],l?n:null),e.setIn(["newProductRetailer","productRetailerDisplayName"],o),e.set("addStage",3)})}),babelHelpers.defineProperty(R,oe.e,function(e,t){return e.withMutations(function(e){var r=t.scrapeUrl,n=t.priceSelector,a=e.get("newProductRetailer").get("isOtherRetailer")?n:null;e.setIn(["newProductRetailer","scrapeUrl"],r),e.setIn(["newProductRetailer","priceSelector"],a),e.set("productRetailers",e.get("productRetailers").push(e.get("newProductRetailer"))),e.set("newProductRetailer",new ne),e.set("addStage",4)})}),babelHelpers.defineProperty(R,oe.a,function(){return ie}),babelHelpers.defineProperty(R,oe.j,function(e){return e.withMutations(function(e){e.set("saving",!0),e.set("saveError",null)})}),babelHelpers.defineProperty(R,oe.k,function(e){return e.withMutations(function(e){e.set("saving",!1),e.set("saveError","Saving product failed... sorry?")})}),babelHelpers.defineProperty(R,oe.i,function(e,t){return e.withMutations(function(e){var r=parseInt(t.data);e.set("saving",!1),e.set("newProductId",r),e.set("addOpen",!1)})}),R)),ce=r(54),ue=new C.b({loading:!1,deleting:!1,product:{},productRetailers:[],hasError:!1,toggling:!1,toggleError:null}),de=Object(u.stateReducer)(ue,(M={},babelHelpers.defineProperty(M,ce.b,function(){return ue.set("loading",!0)}),babelHelpers.defineProperty(M,ce.c,function(e){return e.withMutations(function(e){e.set("loading",!1),e.set("hasError",!0)})}),babelHelpers.defineProperty(M,ce.a,function(e,t){return e.withMutations(function(e){e.set("loading",!1),e.set("product",t.data)})}),babelHelpers.defineProperty(M,ce.e,function(e){return e.withMutations(function(e){e.set("toggling",!0),e.set("toggleError",null)})}),babelHelpers.defineProperty(M,ce.f,function(e,t){return e.withMutations(function(e){e.set("toggling",!1),e.set("toggleError",t)})}),babelHelpers.defineProperty(M,ce.d,function(e){return e.set("toggling",!1)}),M)),pe=r(61),me=new C.b({loading:!1,deleting:!1,products:[],hasError:!1,toggling:!1,toggleError:null}),he=Object(u.stateReducer)(me,(S={},babelHelpers.defineProperty(S,pe.b,function(){return me.set("loading",!0)}),babelHelpers.defineProperty(S,pe.c,function(e){return e.withMutations(function(e){e.set("loading",!1),e.set("hasError",!0)})}),babelHelpers.defineProperty(S,pe.a,function(e,t){return e.withMutations(function(e){e.set("loading",!1),e.set("products",t.data)})}),babelHelpers.defineProperty(S,pe.e,function(e){return e.withMutations(function(e){e.set("toggling",!0),e.set("toggleError",null)})}),babelHelpers.defineProperty(S,pe.f,function(e,t){return e.withMutations(function(e){e.set("toggling",!1),e.set("toggleError",t.data)})}),babelHelpers.defineProperty(S,pe.d,function(e){return e.set("toggling",!1)}),S)),fe=Object(b.combineReducers)({addManual:le,addProduct:se,productDisplay:de,productsTable:he}),be=r(43),ge=new C.b({addOpen:!1,saveAlertOpen:!1,creatingAlert:!1,loadingOffers:!1,offersCompared:!1,matchingOffersCount:0,saveError:!1,alertId:null}),Ee=Object(u.stateReducer)(ge,(H={},babelHelpers.defineProperty(H,be.b,function(){return ge.set("addOpen",!0)}),babelHelpers.defineProperty(H,be.a,function(){return ge}),babelHelpers.defineProperty(H,be.f,function(e){return e.set("saveAlertOpen",!0)}),babelHelpers.defineProperty(H,be.e,function(e,t){return e.withMutations(function(e){var r=t.data,n=r.indexWasCreatedOrUpdated,a=r.matchesCount,l=r.alertId;e.set("creatingAlert",!0),e.set("alertId",l),n||(e.set("loadingOffers",!0),e.set("offersCompared",!0),e.set("matchingOffersCount",a))})}),babelHelpers.defineProperty(H,be.c,function(e,t){return e.withMutations(function(e){var r=t.data.matchesCount;e.set("loadingOffers",!0),e.set("offersCompared",!0),e.set("matchingOffersCount",r)})}),babelHelpers.defineProperty(H,be.d,function(e){return e.set("saveError",!0)}),babelHelpers.defineProperty(H,be.g,function(e){return e.set("saveError",!0)}),H)),ye=r(48),ve=new C.b({loading:!1,updateProgressOpen:!1,updating:!1,matchingOffersCount:0,updateError:!1,alertId:null}),Ce=Object(u.stateReducer)(ve,(N={},babelHelpers.defineProperty(N,ye.c,function(e){return e.set("loading",!0)}),babelHelpers.defineProperty(N,ye.d,function(e){return e.set("loading",!1)}),babelHelpers.defineProperty(N,ye.b,function(e){return e.set("loading",!1)}),babelHelpers.defineProperty(N,ye.f,function(e){return e.withMutations(function(e){e.set("updateProgressOpen",!0),e.set("updating",!0)})}),babelHelpers.defineProperty(N,ye.g,function(e){return e.withMutations(function(e){e.set("updating",!1),e.set("updateError",!0)})}),babelHelpers.defineProperty(N,ye.e,function(e,t){return e.withMutations(function(e){var r=t.data,n=r.matchesCount,a=r.alertId;e.set("updating",!1),e.set("alertId",a),e.set("matchingOffersCount",n)})}),babelHelpers.defineProperty(N,ye.a,function(){return ve}),N)),ke=r(26),we=Object(C.c)({id:null,stateUtilityIndexId:null,name:"",utilityState:null,utilityType:null,zip:"",hasMinimumPrice:!1,minimumPrice:0,hasMaximumPrice:!1,maximumPrice:0,hasMinimumMonthLength:!1,minimumMonthLength:0,hasMaximumMonthLength:!1,maximumMonthLength:0,filterRenewable:!1,hasRenewable:!1,minimumRenewablePercent:0,maximumRenewablePercent:100,filterCancellationFee:!1,hasCancellationFee:!1,filterMonthlyFee:!1,hasMonthlyFee:!1,filterEnrollmentFee:!1,hasEnrollmentFee:!1,filterRequiresDeposit:!1,requiresDeposit:!1,filterBulkDiscounts:!1,hasBulkDiscounts:!1,comments:""}),Pe=new C.b({addOpen:!1,editOpen:!1,addStage:1,editStage:1,alertModel:new we}),Oe=Object(u.stateReducer)(Pe,(D={},babelHelpers.defineProperty(D,ke.b,function(e,t){return e.withMutations(function(e){e.set("alertModel",new we(t))})}),babelHelpers.defineProperty(D,ke.c,function(e){return e.withMutations(function(e){e.set("addOpen",!0),e.set("addStage",1)})}),babelHelpers.defineProperty(D,ke.f,function(e){return e.withMutations(function(e){e.set("editOpen",!0),e.set("editStage",1)})}),babelHelpers.defineProperty(D,ke.g,function(e){return e.set("editStage",2)}),babelHelpers.defineProperty(D,ke.h,function(e){return e.set("editStage",3)}),babelHelpers.defineProperty(D,ke.d,function(e,t){return e.withMutations(function(e){var r=t.name,n=t.hasMinimumPrice,a=t.minimumPrice,l=t.hasMaximumPrice,o=t.maximumPrice,i=t.hasMinimumMonthLength,s=t.minimumMonthLength,c=t.hasMaximumMonthLength,u=t.maximumMonthLength;e.setIn(["alertModel","name"],r),e.setIn(["alertModel","hasMinimumPrice"],n),e.setIn(["alertModel","minimumPrice"],n?a:0),e.setIn(["alertModel","hasMaximumPrice"],l),e.setIn(["alertModel","maximumPrice"],l?o:0),e.setIn(["alertModel","hasMinimumMonthLength"],i),e.setIn(["alertModel","minimumMonthLength"],i?s:0),e.setIn(["alertModel","hasMaximumMonthLength"],c),e.setIn(["alertModel","maximumMonthLength"],c?u:0),e.set("addStage",2)})}),babelHelpers.defineProperty(D,ke.e,function(e,t){return e.withMutations(function(e){var r=t.filterRenewable,n=t.hasRenewable,a=t.minimumRenewablePercent,l=t.maximumRenewablePercent,o=t.filterCancellationFee,i=t.hasCancellationFee,s=t.filterMonthlyFee,c=t.hasMonthlyFee,u=t.filterEnrollmentFee,d=t.hasEnrollmentFee,p=t.filterRequiresDeposit,m=t.requiresDeposit,h=t.filterBulkDiscounts,f=t.hasBulkDiscounts;e.setIn(["alertModel","filterRenewable"],r),e.setIn(["alertModel","hasRenewable"],n),e.setIn(["alertModel","minimumRenewablePercent"],a),e.setIn(["alertModel","maximumRenewablePercent"],l),e.setIn(["alertModel","filterCancellationFee"],o),e.setIn(["alertModel","hasCancellationFee"],i),e.setIn(["alertModel","filterMonthlyFee"],s),e.setIn(["alertModel","hasMonthlyFee"],c),e.setIn(["alertModel","filterEnrollmentFee"],u),e.setIn(["alertModel","hasEnrollmentFee"],d),e.setIn(["alertModel","filterRequiresDeposit"],p),e.setIn(["alertModel","requiresDeposit"],m),e.setIn(["alertModel","filterBulkDiscounts"],h),e.setIn(["alertModel","hasBulkDiscounts"],f),e.set("addStage",3)})}),babelHelpers.defineProperty(D,ke.a,function(){return Pe}),D)),je=Object(b.combineReducers)({addAlert:Ee,editAlert:Ce,paPower:Oe}),xe=function(e){return Object(b.combineReducers)({features:Object(b.combineReducers)({authentication:z,dashboard:ee,products:fe,alerts:je}),router:Object(g.b)(e)})},Re=s()(),Me=(T=Re,A=[m.a,p.a,f.a,Object(E.a)(T)],function(e,t){return Object(b.createStore)(Object(g.b)(e)(xe(e)),b.applyMiddleware.apply(void 0,babelHelpers.toConsumableArray(t)))}(T,A));Object(u.configureHttp)(function(){return d}),W.a.options.timeOut=5e3,Object(o.render)(l.a.createElement(c.a,{store:Me,history:Re}),document.getElementById("app"))},79:function(e,t,r){"use strict";var n="AUTHENTICATE";function a(e){return{type:n,payload:e}}var l=r(167),o=r(12),i="LOG_OUT";function s(e){return{type:i,payload:Object(o.httpDelete)("authentication/log-out",e)}}r.d(t,"a",function(){return n}),r.d(t,"c",function(){return a}),r.d(t,"d",function(){return l.b}),r.d(t,"b",function(){return"LOG_OUT_PENDING"}),r.d(t,"e",function(){return s})}});